(self.webpackChunkconverter=self.webpackChunkconverter||[]).push([[741],{15577:function(Qe,He,j){var pe,ae=j(29293).default;pe=()=>{return je={770:function(ee,i,R){"use strict";var C=this&&this.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(i,"__esModule",{value:!0}),i.setDefaultDebugCall=i.createOnigScanner=i.createOnigString=i.loadWASM=i.OnigScanner=i.OnigString=void 0;const N=C(R(418));let s=null,w=!1;class f{static _utf8ByteLength(g){let c=0;for(let d=0,_=g.length;d<_;d++){const a=g.charCodeAt(d);let e=a,n=!1;if(a>=55296&&a<=56319&&d+1<_){const r=g.charCodeAt(d+1);r>=56320&&r<=57343&&(e=65536+(a-55296<<10)|r-56320,n=!0)}c+=e<=127?1:e<=2047?2:e<=65535?3:4,n&&d++}return c}constructor(g){const c=g.length,d=f._utf8ByteLength(g),_=d!==c,a=_?new Uint32Array(c+1):null;_&&(a[c]=d);const e=_?new Uint32Array(d+1):null;_&&(e[d]=c);const n=new Uint8Array(d);let r=0;for(let t=0;t<c;t++){const l=g.charCodeAt(t);let h=l,k=!1;if(l>=55296&&l<=56319&&t+1<c){const I=g.charCodeAt(t+1);I>=56320&&I<=57343&&(h=65536+(l-55296<<10)|I-56320,k=!0)}_&&(a[t]=r,k&&(a[t+1]=r),h<=127?e[r+0]=t:h<=2047?(e[r+0]=t,e[r+1]=t):h<=65535?(e[r+0]=t,e[r+1]=t,e[r+2]=t):(e[r+0]=t,e[r+1]=t,e[r+2]=t,e[r+3]=t)),h<=127?n[r++]=h:h<=2047?(n[r++]=192|(1984&h)>>>6,n[r++]=128|(63&h)>>>0):h<=65535?(n[r++]=224|(61440&h)>>>12,n[r++]=128|(4032&h)>>>6,n[r++]=128|(63&h)>>>0):(n[r++]=240|(1835008&h)>>>18,n[r++]=128|(258048&h)>>>12,n[r++]=128|(4032&h)>>>6,n[r++]=128|(63&h)>>>0),k&&t++}this.utf16Length=c,this.utf8Length=d,this.utf16Value=g,this.utf8Value=n,this.utf16OffsetToUtf8=a,this.utf8OffsetToUtf16=e}createString(g){const c=g._omalloc(this.utf8Length);return g.HEAPU8.set(this.utf8Value,c),c}}class y{constructor(g){if(this.id=++y.LAST_ID,!s)throw new Error("Must invoke loadWASM first.");this._onigBinding=s,this.content=g;const c=new f(g);this.utf16Length=c.utf16Length,this.utf8Length=c.utf8Length,this.utf16OffsetToUtf8=c.utf16OffsetToUtf8,this.utf8OffsetToUtf16=c.utf8OffsetToUtf16,this.utf8Length<1e4&&!y._sharedPtrInUse?(y._sharedPtr||(y._sharedPtr=s._omalloc(1e4)),y._sharedPtrInUse=!0,s.HEAPU8.set(c.utf8Value,y._sharedPtr),this.ptr=y._sharedPtr):this.ptr=c.createString(s)}convertUtf8OffsetToUtf16(g){return this.utf8OffsetToUtf16?g<0?0:g>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[g]:g}convertUtf16OffsetToUtf8(g){return this.utf16OffsetToUtf8?g<0?0:g>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[g]:g}dispose(){this.ptr===y._sharedPtr?y._sharedPtrInUse=!1:this._onigBinding._ofree(this.ptr)}}i.OnigString=y,y.LAST_ID=0,y._sharedPtr=0,y._sharedPtrInUse=!1;class M{constructor(g){if(!s)throw new Error("Must invoke loadWASM first.");const c=[],d=[];for(let n=0,r=g.length;n<r;n++){const t=new f(g[n]);c[n]=t.createString(s),d[n]=t.utf8Length}const _=s._omalloc(4*g.length);s.HEAPU32.set(c,_/4);const a=s._omalloc(4*g.length);s.HEAPU32.set(d,a/4);const e=s._createOnigScanner(_,a,g.length);for(let n=0,r=g.length;n<r;n++)s._ofree(c[n]);s._ofree(a),s._ofree(_),0===e&&function(n){throw new Error(n.UTF8ToString(n._getLastOnigError()))}(s),this._onigBinding=s,this._ptr=e}dispose(){this._onigBinding._freeOnigScanner(this._ptr)}findNextMatchSync(g,c,d){let _=w,a=0;if("number"==typeof d?(8&d&&(_=!0),a=d):"boolean"==typeof d&&(_=d),"string"==typeof g){g=new y(g);const e=this._findNextMatchSync(g,c,_,a);return g.dispose(),e}return this._findNextMatchSync(g,c,_,a)}_findNextMatchSync(g,c,d,_){const a=this._onigBinding;let e;if(e=d?a._findNextOnigScannerMatchDbg(this._ptr,g.id,g.ptr,g.utf8Length,g.convertUtf16OffsetToUtf8(c),_):a._findNextOnigScannerMatch(this._ptr,g.id,g.ptr,g.utf8Length,g.convertUtf16OffsetToUtf8(c),_),0===e)return null;const n=a.HEAPU32;let r=e/4;const t=n[r++],l=n[r++];let h=[];for(let k=0;k<l;k++){const I=g.convertUtf8OffsetToUtf16(n[r++]),D=g.convertUtf8OffsetToUtf16(n[r++]);h[k]={start:I,end:D,length:D-I}}return{index:t,captureIndices:h}}}i.OnigScanner=M;let S=!1,L=null;i.loadWASM=function(T){if(S)return L;let g,c,d,_;if(S=!0,"function"==typeof T.instantiator)g=T.instantiator,c=T.print;else{let a;void 0!==T.data?(a=T.data,c=T.print):a=T,e=a,g=typeof Response<"u"&&e instanceof Response?"function"==typeof WebAssembly.instantiateStreaming?function(e){return n=>WebAssembly.instantiateStreaming(e,n)}(a):function(e){return function(){var n=ae(function*(r){const t=yield e.arrayBuffer();return WebAssembly.instantiate(t,r)});return function(r){return n.apply(this,arguments)}}()}(a):function(e){return n=>WebAssembly.instantiate(e,n)}(a)}var e;return L=new Promise((a,e)=>{d=a,_=e}),function(a,e,n,r){(0,N.default)({print:e,instantiateWasm:(t,l)=>{if(typeof performance>"u"){const h=()=>Date.now();t.env.emscripten_get_now=h,t.wasi_snapshot_preview1.emscripten_get_now=h}return a(t).then(h=>l(h.instance),r),{}}}).then(t=>{s=t,n()})}(g,c,d,_),L},i.createOnigString=function(T){return new y(T)},i.createOnigScanner=function(T){return new M(T)},i.setDefaultDebugCall=function(T){w=T}},418:ee=>{var i=(typeof document<"u"&&document.currentScript&&document,function(R){var C,N,s=void 0!==(R=R||{})?R:{};s.ready=new Promise(function(G,$){C=G,N=$});var w,f=Object.assign({},s),y=[];w=function(G){let $;return"function"==typeof readbuffer?new Uint8Array(readbuffer(G)):($=read(G,"binary"),function n(G,$){G||J($)}("object"==typeof $),$)},typeof scriptArgs<"u"?y=scriptArgs:void 0!==arguments&&(y=arguments),typeof onig_print<"u"&&(typeof console>"u"&&(console={}),console.log=onig_print,console.warn=console.error=typeof printErr<"u"?printErr:onig_print);var c,d,_=s.print||console.log.bind(console),a=s.printErr||console.warn.bind(console);Object.assign(s,f),f=null,s.arguments&&(y=s.arguments),s.wasmBinary&&(c=s.wasmBinary),"object"!=typeof WebAssembly&&J("no native wasm support detected");var r,t,l,e=!1,h=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function k(G,$,le){for(var ge=$+le,q=$;G[q]&&!(q>=ge);)++q;if(q-$>16&&G.buffer&&h)return h.decode(G.subarray($,q));for(var ne="";$<q;){var fe=G[$++];if(128&fe){var Te=63&G[$++];if(192!=(224&fe)){var Ee=63&G[$++];if((fe=224==(240&fe)?(15&fe)<<12|Te<<6|Ee:(7&fe)<<18|Te<<12|Ee<<6|63&G[$++])<65536)ne+=String.fromCharCode(fe);else{var Je=fe-65536;ne+=String.fromCharCode(55296|Je>>10,56320|1023&Je)}}else ne+=String.fromCharCode((31&fe)<<6|Te)}else ne+=String.fromCharCode(fe)}return ne}function D(G){r=G,s.HEAP8=new Int8Array(G),s.HEAP16=new Int16Array(G),s.HEAP32=new Int32Array(G),s.HEAPU8=t=new Uint8Array(G),s.HEAPU16=new Uint16Array(G),s.HEAPU32=l=new Uint32Array(G),s.HEAPF32=new Float32Array(G),s.HEAPF64=new Float64Array(G)}var z=[],U=[],X=[],Q=0,Y=null,me=null;function J(G){s.onAbort&&s.onAbort(G),a(G="Aborted("+G+")"),e=!0,G+=". Build with -sASSERTIONS for more info.";var $=new WebAssembly.RuntimeError(G);throw N($),$}var ce,Ce;function Re(G){return G.startsWith("data:application/octet-stream;base64,")}function we(G){try{if(G==ce&&c)return new Uint8Array(c);if(w)return w(G);throw"both async and sync fetching of the wasm failed"}catch($){J($)}}function ve(G){for(;G.length>0;)G.shift()(s)}function xe(G){try{return d.grow(G-r.byteLength+65535>>>16),D(d.buffer),1}catch{}}Re(ce="onig.wasm")||(ce=function g(G){return s.locateFile?s.locateFile(G,""):""+G}(ce)),Ce=typeof dateNow<"u"?dateNow:()=>performance.now();var Ie=[null,[],[]];function Pe(G,$){var le=Ie[G];0===$||10===$?((1===G?_:a)(k(le,0)),le.length=0):le.push($)}var Le,We={emscripten_get_now:Ce,emscripten_memcpy_big:function Ge(G,$,le){t.copyWithin(G,$,$+le)},emscripten_resize_heap:function _e(G){var $,le=t.length,ge=2147483648;if((G>>>=0)>ge)return!1;for(var q=1;q<=4;q*=2){var ne=le*(1+.2/q);if(ne=Math.min(ne,G+100663296),xe(Math.min(ge,($=Math.max(G,ne))+(65536-$%65536)%65536)))return!0}return!1},fd_write:function Fe(G,$,le,ge){for(var q=0,ne=0;ne<le;ne++){var fe=l[$>>2],Te=l[$+4>>2];$+=8;for(var Ee=0;Ee<Te;Ee++)Pe(G,t[fe+Ee]);q+=Te}return l[ge>>2]=q,0}};function Me(G){function $(){Le||(Le=!0,s.calledRun=!0,e||(function V(){ve(U)}(),C(s),s.onRuntimeInitialized&&s.onRuntimeInitialized(),function te(){if(s.postRun)for("function"==typeof s.postRun&&(s.postRun=[s.postRun]);s.postRun.length;)G=s.postRun.shift(),X.unshift(G);var G;ve(X)}()))}G=G||y,Q>0||(function Z(){if(s.preRun)for("function"==typeof s.preRun&&(s.preRun=[s.preRun]);s.preRun.length;)G=s.preRun.shift(),z.unshift(G);var G;ve(z)}(),Q>0||(s.setStatus?(s.setStatus("Running..."),setTimeout(function(){setTimeout(function(){s.setStatus("")},1),$()},1)):$()))}if(function De(){var G={env:We,wasi_snapshot_preview1:We};function $(q,ne){s.asm=q.exports,D((d=s.asm.memory).buffer),function re(G){U.unshift(G)}(s.asm.__wasm_call_ctors),function se(G){if(Q--,s.monitorRunDependencies&&s.monitorRunDependencies(Q),0==Q&&(null!==Y&&(clearInterval(Y),Y=null),me)){var $=me;me=null,$()}}()}function le(q){$(q.instance)}function ge(q){return function Ae(){return Promise.resolve().then(function(){return we(ce)})}().then(function(ne){return WebAssembly.instantiate(ne,G)}).then(function(ne){return ne}).then(q,function(ne){a("failed to asynchronously prepare wasm: "+ne),J(ne)})}if(function E(G){Q++,s.monitorRunDependencies&&s.monitorRunDependencies(Q)}(),s.instantiateWasm)try{return s.instantiateWasm(G,$)}catch(q){a("Module.instantiateWasm callback failed with error: "+q),N(q)}(c||"function"!=typeof WebAssembly.instantiateStreaming||Re(ce)||"function"!=typeof fetch?ge(le):fetch(ce,{credentials:"same-origin"}).then(function(q){return WebAssembly.instantiateStreaming(q,G).then(le,function(ne){return a("wasm streaming compile failed: "+ne),a("falling back to ArrayBuffer instantiation"),ge(le)})})).catch(N)}(),s.___wasm_call_ctors=function(){return(s.___wasm_call_ctors=s.asm.__wasm_call_ctors).apply(null,arguments)},s.___errno_location=function(){return(s.___errno_location=s.asm.__errno_location).apply(null,arguments)},s._omalloc=function(){return(s._omalloc=s.asm.omalloc).apply(null,arguments)},s._ofree=function(){return(s._ofree=s.asm.ofree).apply(null,arguments)},s._getLastOnigError=function(){return(s._getLastOnigError=s.asm.getLastOnigError).apply(null,arguments)},s._createOnigScanner=function(){return(s._createOnigScanner=s.asm.createOnigScanner).apply(null,arguments)},s._freeOnigScanner=function(){return(s._freeOnigScanner=s.asm.freeOnigScanner).apply(null,arguments)},s._findNextOnigScannerMatch=function(){return(s._findNextOnigScannerMatch=s.asm.findNextOnigScannerMatch).apply(null,arguments)},s._findNextOnigScannerMatchDbg=function(){return(s._findNextOnigScannerMatchDbg=s.asm.findNextOnigScannerMatchDbg).apply(null,arguments)},s.stackSave=function(){return(s.stackSave=s.asm.stackSave).apply(null,arguments)},s.stackRestore=function(){return(s.stackRestore=s.asm.stackRestore).apply(null,arguments)},s.stackAlloc=function(){return(s.stackAlloc=s.asm.stackAlloc).apply(null,arguments)},s.dynCall_jiji=function(){return(s.dynCall_jiji=s.asm.dynCall_jiji).apply(null,arguments)},s.UTF8ToString=function I(G,$){return G?k(t,G,$):""},me=function G(){Le||Me(),Le||(me=G)},s.preInit)for("function"==typeof s.preInit&&(s.preInit=[s.preInit]);s.preInit.length>0;)s.preInit.pop()();return Me(),R.ready});ee.exports=i}},pe={},function ee(i){var R=pe[i];if(void 0!==R)return R.exports;var C=pe[i]={exports:{}};return je[i].call(C.exports,C,C.exports,ee),C.exports}(770);var je,pe},Qe.exports=pe()},50704:function(Qe,He,j){var ae=j(29293).default;Qe.exports=(()=>{"use strict";var je={350:(ee,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.UseOnigurumaFindOptions=i.DebugFlags=void 0,i.DebugFlags={InDebugMode:typeof process<"u"&&!!process.env.VSCODE_TEXTMATE_DEBUG},i.UseOnigurumaFindOptions=!1},442:(ee,i,R)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.applyStateStackDiff=i.diffStateStacksRefEq=void 0;const C=R(391);i.diffStateStacksRefEq=function(N,s){let w=0;const f=[];let y=N,M=s;for(;y!==M;)y&&(!M||y.depth>=M.depth)?(w++,y=y.parent):(f.push(M.toStateStackFrame()),M=M.parent);return{pops:w,newFrames:f.reverse()}},i.applyStateStackDiff=function(N,s){let w=N;for(let f=0;f<s.pops;f++)w=w.parent;for(const f of s.newFrames)w=C.StateStackImpl.pushFrame(w,f);return w}},36:(ee,i)=>{var R;Object.defineProperty(i,"__esModule",{value:!0}),i.toOptionalTokenType=i.EncodedTokenAttributes=void 0,(R=i.EncodedTokenAttributes||(i.EncodedTokenAttributes={})).toBinaryStr=function(C){let N=C.toString(2);for(;N.length<32;)N="0"+N;return N},R.print=function(C){const N=R.getLanguageId(C),s=R.getTokenType(C),w=R.getFontStyle(C),f=R.getForeground(C),y=R.getBackground(C);console.log({languageId:N,tokenType:s,fontStyle:w,foreground:f,background:y})},R.getLanguageId=function(C){return(255&C)>>>0},R.getTokenType=function(C){return(768&C)>>>8},R.containsBalancedBrackets=function(C){return!!(1024&C)},R.getFontStyle=function(C){return(30720&C)>>>11},R.getForeground=function(C){return(16744448&C)>>>15},R.getBackground=function(C){return(4278190080&C)>>>24},R.set=function(C,N,s,w,f,y,M){let S=R.getLanguageId(C),L=R.getTokenType(C),T=R.containsBalancedBrackets(C)?1:0,g=R.getFontStyle(C),c=R.getForeground(C),d=R.getBackground(C);return 0!==N&&(S=N),8!==s&&(L=s),null!==w&&(T=w?1:0),-1!==f&&(g=f),0!==y&&(c=y),0!==M&&(d=M),(S|L<<8|T<<10|g<<11|c<<15|d<<24)>>>0},i.toOptionalTokenType=function(C){return C}},996:(ee,i,R)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BasicScopeAttributesProvider=i.BasicScopeAttributes=void 0;const C=R(878);class N{constructor(y,M){this.languageId=y,this.tokenType=M}}i.BasicScopeAttributes=N;class s{constructor(y,M){this._getBasicScopeAttributes=new C.CachedFn(S=>{const L=this._scopeToLanguage(S),T=this._toStandardTokenType(S);return new N(L,T)}),this._defaultAttributes=new N(y,8),this._embeddedLanguagesMatcher=new w(Object.entries(M||{}))}getDefaultAttributes(){return this._defaultAttributes}getBasicScopeAttributes(y){return null===y?s._NULL_SCOPE_METADATA:this._getBasicScopeAttributes.get(y)}_scopeToLanguage(y){return this._embeddedLanguagesMatcher.match(y)||0}_toStandardTokenType(y){const M=y.match(s.STANDARD_TOKEN_TYPE_REGEXP);if(!M)return 8;switch(M[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"meta.embedded":return 0}throw new Error("Unexpected match for standard token type!")}}i.BasicScopeAttributesProvider=s,s._NULL_SCOPE_METADATA=new N(0,0),s.STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/;class w{constructor(y){if(0===y.length)this.values=null,this.scopesRegExp=null;else{this.values=new Map(y);const M=y.map(([S,L])=>C.escapeRegExpCharacters(S));M.sort(),M.reverse(),this.scopesRegExp=new RegExp(`^((${M.join(")|(")}))($|\\.)`,"")}}match(y){if(!this.scopesRegExp)return;const M=y.match(this.scopesRegExp);return M?this.values.get(M[1]):void 0}}},947:(ee,i,R)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.LineTokens=i.BalancedBracketSelectors=i.StateStackImpl=i.AttributedScopeStack=i.Grammar=i.createGrammar=void 0;const C=R(350),N=R(36),s=R(736),w=R(44),f=R(792),y=R(583),M=R(878),S=R(996),L=R(47);function T(r,t,l,h,k){const I=s.createMatchers(t,g),D=f.RuleFactory.getCompiledRuleId(l,h,k.repository);for(const z of I)r.push({debugSelector:t,matcher:z.matcher,ruleId:D,grammar:k,priority:z.priority})}function g(r,t){if(t.length<r.length)return!1;let l=0;return r.every(h=>{for(let k=l;k<t.length;k++)if(c(t[k],h))return l=k+1,!0;return!1})}function c(r,t){if(!r)return!1;if(r===t)return!0;const l=t.length;return r.length>l&&r.substr(0,l)===t&&"."===r[l]}i.createGrammar=function(r,t,l,h,k,I,D,z){return new d(r,t,l,h,k,I,D,z)};class d{constructor(t,l,h,k,I,D,z,U){if(this._rootScopeName=t,this.balancedBracketSelectors=D,this._onigLib=U,this._basicScopeAttributesProvider=new S.BasicScopeAttributesProvider(h,k),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=z,this._grammar=_(l,null),this._injections=null,this._tokenTypeMatchers=[],I)for(const X of Object.keys(I)){const Z=s.createMatchers(X,g);for(const V of Z)this._tokenTypeMatchers.push({matcher:V.matcher,type:I[X]})}}get themeProvider(){return this._grammarRepository}dispose(){for(const t of this._ruleId2desc)t&&t.dispose()}createOnigScanner(t){return this._onigLib.createOnigScanner(t)}createOnigString(t){return this._onigLib.createOnigString(t)}getMetadataForScope(t){return this._basicScopeAttributesProvider.getBasicScopeAttributes(t)}_collectInjections(){const t=[],l=this._rootScopeName,h=(k=>k===this._rootScopeName?this._grammar:this.getExternalGrammar(k))(l);if(h){const k=h.injections;if(k)for(let D in k)T(t,D,k[D],this,h);const I=this._grammarRepository.injections(l);I&&I.forEach(D=>{const z=this.getExternalGrammar(D);if(z){const U=z.injectionSelector;U&&T(t,U,z,this,z)}})}return t.sort((k,I)=>k.priority-I.priority),t}getInjections(){if(null===this._injections&&(this._injections=this._collectInjections(),C.DebugFlags.InDebugMode&&this._injections.length>0)){console.log(`Grammar ${this._rootScopeName} contains the following injections:`);for(const t of this._injections)console.log(`  - ${t.debugSelector}`)}return this._injections}registerRule(t){const l=++this._lastRuleId,h=t(f.ruleIdFromNumber(l));return this._ruleId2desc[l]=h,h}getRule(t){return this._ruleId2desc[f.ruleIdToNumber(t)]}getExternalGrammar(t,l){if(this._includedGrammars[t])return this._includedGrammars[t];if(this._grammarRepository){const h=this._grammarRepository.lookup(t);if(h)return this._includedGrammars[t]=_(h,l&&l.$base),this._includedGrammars[t]}}tokenizeLine(t,l,h=0){const k=this._tokenize(t,l,!1,h);return{tokens:k.lineTokens.getResult(k.ruleStack,k.lineLength),ruleStack:k.ruleStack,stoppedEarly:k.stoppedEarly}}tokenizeLine2(t,l,h=0){const k=this._tokenize(t,l,!0,h);return{tokens:k.lineTokens.getBinaryResult(k.ruleStack,k.lineLength),ruleStack:k.ruleStack,stoppedEarly:k.stoppedEarly}}_tokenize(t,l,h,k){let I;if(-1===this._rootId&&(this._rootId=f.RuleFactory.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository),this.getInjections()),l&&l!==e.NULL)I=!1,l.reset();else{I=!0;const Z=this._basicScopeAttributesProvider.getDefaultAttributes(),V=this.themeProvider.getDefaults(),te=N.EncodedTokenAttributes.set(0,Z.languageId,Z.tokenType,null,V.fontStyle,V.foregroundId,V.backgroundId),he=this.getRule(this._rootId).getName(null,null);let re;re=he?a.createRootAndLookUpScopeName(he,te,this):a.createRoot("unknown",te),l=new e(null,this._rootId,-1,-1,!1,null,re,re)}const D=this.createOnigString(t+="\n"),z=D.content.length,U=new n(h,t,this._tokenTypeMatchers,this.balancedBracketSelectors),X=L._tokenizeString(this,D,I,0,l,U,!0,k);return w.disposeOnigString(D),{lineLength:z,lineTokens:U,ruleStack:X.stack,stoppedEarly:X.stoppedEarly}}}function _(r,t){return(r=M.clone(r)).repository=r.repository||{},r.repository.$self={$vscodeTextmateLocation:r.$vscodeTextmateLocation,patterns:r.patterns,name:r.scopeName},r.repository.$base=t||r.repository.$self,r}i.Grammar=d;class a{constructor(t,l,h){this.parent=t,this.scopePath=l,this.tokenAttributes=h}static fromExtension(t,l){let h=t,k=t?.scopePath??null;for(const I of l)k=y.ScopeStack.push(k,I.scopeNames),h=new a(h,k,I.encodedTokenAttributes);return h}static createRoot(t,l){return new a(null,new y.ScopeStack(null,t),l)}static createRootAndLookUpScopeName(t,l,h){const k=h.getMetadataForScope(t),I=new y.ScopeStack(null,t),D=h.themeProvider.themeMatch(I),z=a.mergeAttributes(l,k,D);return new a(null,I,z)}get scopeName(){return this.scopePath.scopeName}toString(){return this.getScopeNames().join(" ")}equals(t){return a.equals(this,t)}static equals(t,l){for(;;){if(t===l||!t&&!l)return!0;if(!t||!l||t.scopeName!==l.scopeName||t.tokenAttributes!==l.tokenAttributes)return!1;t=t.parent,l=l.parent}}static mergeAttributes(t,l,h){let k=-1,I=0,D=0;return null!==h&&(k=h.fontStyle,I=h.foregroundId,D=h.backgroundId),N.EncodedTokenAttributes.set(t,l.languageId,l.tokenType,null,k,I,D)}pushAttributed(t,l){if(null===t)return this;if(-1===t.indexOf(" "))return a._pushAttributed(this,t,l);const h=t.split(/ /g);let k=this;for(const I of h)k=a._pushAttributed(k,I,l);return k}static _pushAttributed(t,l,h){const k=h.getMetadataForScope(l),I=t.scopePath.push(l),D=h.themeProvider.themeMatch(I),z=a.mergeAttributes(t.tokenAttributes,k,D);return new a(t,I,z)}getScopeNames(){return this.scopePath.getSegments()}getExtensionIfDefined(t){const l=[];let h=this;for(;h&&h!==t;)l.push({encodedTokenAttributes:h.tokenAttributes,scopeNames:h.scopePath.getExtensionIfDefined(h.parent?.scopePath??null)}),h=h.parent;return h===t?l.reverse():void 0}}i.AttributedScopeStack=a;class e{constructor(t,l,h,k,I,D,z,U){this.parent=t,this.ruleId=l,this.beginRuleCapturedEOL=I,this.endRule=D,this.nameScopesList=z,this.contentNameScopesList=U,this._stackElementBrand=void 0,this.depth=this.parent?this.parent.depth+1:1,this._enterPos=h,this._anchorPos=k}equals(t){return null!==t&&e._equals(this,t)}static _equals(t,l){return t===l||!!this._structuralEquals(t,l)&&a.equals(t.contentNameScopesList,l.contentNameScopesList)}static _structuralEquals(t,l){for(;;){if(t===l||!t&&!l)return!0;if(!t||!l||t.depth!==l.depth||t.ruleId!==l.ruleId||t.endRule!==l.endRule)return!1;t=t.parent,l=l.parent}}clone(){return this}static _reset(t){for(;t;)t._enterPos=-1,t._anchorPos=-1,t=t.parent}reset(){e._reset(this)}pop(){return this.parent}safePop(){return this.parent?this.parent:this}push(t,l,h,k,I,D,z){return new e(this,t,l,h,k,I,D,z)}getEnterPos(){return this._enterPos}getAnchorPos(){return this._anchorPos}getRule(t){return t.getRule(this.ruleId)}toString(){const t=[];return this._writeString(t,0),"["+t.join(",")+"]"}_writeString(t,l){return this.parent&&(l=this.parent._writeString(t,l)),t[l++]=`(${this.ruleId}, ${this.nameScopesList?.toString()}, ${this.contentNameScopesList?.toString()})`,l}withContentNameScopesList(t){return this.contentNameScopesList===t?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,t)}withEndRule(t){return this.endRule===t?this:new e(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,t,this.nameScopesList,this.contentNameScopesList)}hasSameRuleAs(t){let l=this;for(;l&&l._enterPos===t._enterPos;){if(l.ruleId===t.ruleId)return!0;l=l.parent}return!1}toStateStackFrame(){return{ruleId:f.ruleIdToNumber(this.ruleId),beginRuleCapturedEOL:this.beginRuleCapturedEOL,endRule:this.endRule,nameScopesList:this.nameScopesList?.getExtensionIfDefined(this.parent?.nameScopesList??null)??[],contentNameScopesList:this.contentNameScopesList?.getExtensionIfDefined(this.nameScopesList)??[]}}static pushFrame(t,l){const h=a.fromExtension(t?.nameScopesList??null,l.nameScopesList);return new e(t,f.ruleIdFromNumber(l.ruleId),l.enterPos??-1,l.anchorPos??-1,l.beginRuleCapturedEOL,l.endRule,h,a.fromExtension(h,l.contentNameScopesList))}}i.StateStackImpl=e,e.NULL=new e(null,0,0,0,!1,null,null,null),i.BalancedBracketSelectors=class{constructor(r,t){this.allowAny=!1,this.balancedBracketScopes=r.flatMap(l=>"*"===l?(this.allowAny=!0,[]):s.createMatchers(l,g).map(h=>h.matcher)),this.unbalancedBracketScopes=t.flatMap(l=>s.createMatchers(l,g).map(h=>h.matcher))}get matchesAlways(){return this.allowAny&&0===this.unbalancedBracketScopes.length}get matchesNever(){return 0===this.balancedBracketScopes.length&&!this.allowAny}match(r){for(const t of this.unbalancedBracketScopes)if(t(r))return!1;for(const t of this.balancedBracketScopes)if(t(r))return!0;return this.allowAny}};class n{constructor(t,l,h,k){this.balancedBracketSelectors=k,this._emitBinaryTokens=t,this._tokenTypeOverrides=h,this._lineText=C.DebugFlags.InDebugMode?l:null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}produce(t,l){this.produceFromScopes(t.contentNameScopesList,l)}produceFromScopes(t,l){if(this._lastTokenEndIndex>=l)return;if(this._emitBinaryTokens){let k=t?.tokenAttributes??0,I=!1;if(this.balancedBracketSelectors?.matchesAlways&&(I=!0),this._tokenTypeOverrides.length>0||this.balancedBracketSelectors&&!this.balancedBracketSelectors.matchesAlways&&!this.balancedBracketSelectors.matchesNever){const D=t?.getScopeNames()??[];for(const z of this._tokenTypeOverrides)z.matcher(D)&&(k=N.EncodedTokenAttributes.set(k,0,N.toOptionalTokenType(z.type),null,-1,0,0));this.balancedBracketSelectors&&(I=this.balancedBracketSelectors.match(D))}if(I&&(k=N.EncodedTokenAttributes.set(k,0,8,I,-1,0,0)),this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===k)return void(this._lastTokenEndIndex=l);if(C.DebugFlags.InDebugMode){const D=t?.getScopeNames()??[];console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,l).replace(/\n$/,"\\n")+"|");for(let z=0;z<D.length;z++)console.log("      * "+D[z])}return this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(k),void(this._lastTokenEndIndex=l)}const h=t?.getScopeNames()??[];if(C.DebugFlags.InDebugMode){console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,l).replace(/\n$/,"\\n")+"|");for(let k=0;k<h.length;k++)console.log("      * "+h[k])}this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:l,scopes:h}),this._lastTokenEndIndex=l}getResult(t,l){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===l-1&&this._tokens.pop(),0===this._tokens.length&&(this._lastTokenEndIndex=-1,this.produce(t,l),this._tokens[this._tokens.length-1].startIndex=0),this._tokens}getBinaryResult(t,l){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===l-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),0===this._binaryTokens.length&&(this._lastTokenEndIndex=-1,this.produce(t,l),this._binaryTokens[this._binaryTokens.length-2]=0);const h=new Uint32Array(this._binaryTokens.length);for(let k=0,I=this._binaryTokens.length;k<I;k++)h[k]=this._binaryTokens[k];return h}}i.LineTokens=n},965:(ee,i,R)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseInclude=i.TopLevelRepositoryReference=i.TopLevelReference=i.RelativeReference=i.SelfReference=i.BaseReference=i.ScopeDependencyProcessor=i.ExternalReferenceCollector=i.TopLevelRepositoryRuleReference=i.TopLevelRuleReference=void 0;const C=R(878);class N{constructor(e){this.scopeName=e}toKey(){return this.scopeName}}i.TopLevelRuleReference=N;class s{constructor(e,n){this.scopeName=e,this.ruleName=n}toKey(){return`${this.scopeName}#${this.ruleName}`}}i.TopLevelRepositoryRuleReference=s;class w{constructor(){this._references=[],this._seenReferenceKeys=new Set,this.visitedRule=new Set}get references(){return this._references}add(e){const n=e.toKey();this._seenReferenceKeys.has(n)||(this._seenReferenceKeys.add(n),this._references.push(e))}}function f(a,e,n,r){const t=n.lookup(a.scopeName);if(!t){if(a.scopeName===e)throw new Error(`No grammar provided for <${e}>`);return}const l=n.lookup(e);a instanceof N?M({baseGrammar:l,selfGrammar:t},r):y(a.ruleName,{baseGrammar:l,selfGrammar:t,repository:t.repository},r);const h=n.injections(a.scopeName);if(h)for(const k of h)r.add(new N(k))}function y(a,e,n){e.repository&&e.repository[a]&&S([e.repository[a]],e,n)}function M(a,e){a.selfGrammar.patterns&&Array.isArray(a.selfGrammar.patterns)&&S(a.selfGrammar.patterns,{...a,repository:a.selfGrammar.repository},e),a.selfGrammar.injections&&S(Object.values(a.selfGrammar.injections),{...a,repository:a.selfGrammar.repository},e)}function S(a,e,n){for(const r of a){if(n.visitedRule.has(r))continue;n.visitedRule.add(r);const t=r.repository?C.mergeObjects({},e.repository,r.repository):e.repository;Array.isArray(r.patterns)&&S(r.patterns,{...e,repository:t},n);const l=r.include;if(!l)continue;const h=_(l);switch(h.kind){case 0:M({...e,selfGrammar:e.baseGrammar},n);break;case 1:M(e,n);break;case 2:y(h.ruleName,{...e,repository:t},n);break;case 3:case 4:const k=h.scopeName===e.selfGrammar.scopeName?e.selfGrammar:h.scopeName===e.baseGrammar.scopeName?e.baseGrammar:void 0;if(k){const I={baseGrammar:e.baseGrammar,selfGrammar:k,repository:t};4===h.kind?y(h.ruleName,I,n):M(I,n)}else n.add(4===h.kind?new s(h.scopeName,h.ruleName):new N(h.scopeName))}}}i.ExternalReferenceCollector=w,i.ScopeDependencyProcessor=class{constructor(a,e){this.repo=a,this.initialScopeName=e,this.seenFullScopeRequests=new Set,this.seenPartialScopeRequests=new Set,this.seenFullScopeRequests.add(this.initialScopeName),this.Q=[new N(this.initialScopeName)]}processQueue(){const a=this.Q;this.Q=[];const e=new w;for(const n of a)f(n,this.initialScopeName,this.repo,e);for(const n of e.references)if(n instanceof N){if(this.seenFullScopeRequests.has(n.scopeName))continue;this.seenFullScopeRequests.add(n.scopeName),this.Q.push(n)}else{if(this.seenFullScopeRequests.has(n.scopeName)||this.seenPartialScopeRequests.has(n.toKey()))continue;this.seenPartialScopeRequests.add(n.toKey()),this.Q.push(n)}}};class L{constructor(){this.kind=0}}i.BaseReference=L;class T{constructor(){this.kind=1}}i.SelfReference=T;class g{constructor(e){this.ruleName=e,this.kind=2}}i.RelativeReference=g;class c{constructor(e){this.scopeName=e,this.kind=3}}i.TopLevelReference=c;class d{constructor(e,n){this.scopeName=e,this.ruleName=n,this.kind=4}}function _(a){if("$base"===a)return new L;if("$self"===a)return new T;const e=a.indexOf("#");if(-1===e)return new c(a);if(0===e)return new g(a.substring(1));{const n=a.substring(0,e),r=a.substring(e+1);return new d(n,r)}}i.TopLevelRepositoryReference=d,i.parseInclude=_},391:function(ee,i,R){var C=this&&this.__createBinding||(Object.create?function(s,w,f,y){void 0===y&&(y=f),Object.defineProperty(s,y,{enumerable:!0,get:function(){return w[f]}})}:function(s,w,f,y){void 0===y&&(y=f),s[y]=w[f]}),N=this&&this.__exportStar||function(s,w){for(var f in s)"default"===f||Object.prototype.hasOwnProperty.call(w,f)||C(w,s,f)};Object.defineProperty(i,"__esModule",{value:!0}),N(R(947),i)},47:(ee,i,R)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.LocalStackElement=i._tokenizeString=void 0;const C=R(350),N=R(44),s=R(792),w=R(878);class f{constructor(d,_){this.stack=d,this.stoppedEarly=_}}function y(c,d,_,a,e,n,r,t){const l=d.content.length;let h=!1,k=-1;if(r){const z=function(U,X,Z,V,te,he){let re=te.beginRuleCapturedEOL?0:-1;const K=[];for(let Q=te;Q;Q=Q.pop()){const Y=Q.getRule(U);Y instanceof s.BeginWhileRule&&K.push({rule:Y,stack:Q})}for(let Q=K.pop();Q;Q=K.pop()){const{ruleScanner:Y,findOptions:me}=S(Q.rule,U,Q.stack.endRule,Z,V===re),E=Y.findNextMatchSync(X,V,me);if(C.DebugFlags.InDebugMode&&(console.log("  scanning for while rule"),console.log(Y.toString())),!E){C.DebugFlags.InDebugMode&&console.log("  popping "+Q.rule.debugName+" - "+Q.rule.debugWhileRegExp),te=Q.stack.pop();break}if(E.ruleId!==s.whileRuleId){te=Q.stack.pop();break}E.captureIndices&&E.captureIndices.length&&(he.produce(Q.stack,E.captureIndices[0].start),T(U,X,Z,Q.stack,he,Q.rule.whileCaptures,E.captureIndices),he.produce(Q.stack,E.captureIndices[0].end),re=E.captureIndices[0].end,E.captureIndices[0].end>V&&(V=E.captureIndices[0].end,Z=!1))}return{stack:te,linePos:V,anchorPosition:re,isFirstLine:Z}}(c,d,_,a,e,n);e=z.stack,a=z.linePos,_=z.isFirstLine,k=z.anchorPosition}const I=Date.now();for(;!h;){if(0!==t&&Date.now()-I>t)return new f(e,!0);D()}return new f(e,!1);function D(){C.DebugFlags.InDebugMode&&(console.log(""),console.log(`@@scanNext ${a}: |${d.content.substr(a).replace(/\n$/,"\\n")}|`));const z=function(V,te,he,re,K,Q){const Y=function(ce,Ce,ze,Re,we,Ae){const De=we.getRule(ce),{ruleScanner:ve,findOptions:Ge}=M(De,ce,we.endRule,ze,Re===Ae);let xe=0;C.DebugFlags.InDebugMode&&(xe=w.performanceNow());const _e=ve.findNextMatchSync(Ce,Re,Ge);if(C.DebugFlags.InDebugMode){const Ie=w.performanceNow()-xe;Ie>5&&console.warn(`Rule ${De.debugName} (${De.id}) matching took ${Ie} against '${Ce}'`),console.log(`  scanning for (linePos: ${Re}, anchorPosition: ${Ae})`),console.log(ve.toString()),_e&&console.log(`matched rule id: ${_e.ruleId} from ${_e.captureIndices[0].start} to ${_e.captureIndices[0].end}`)}return _e?{captureIndices:_e.captureIndices,matchedRuleId:_e.ruleId}:null}(V,te,he,re,K,Q),me=V.getInjections();if(0===me.length)return Y;const E=function(ce,Ce,ze,Re,we,Ae,De){let ve,Ge=Number.MAX_VALUE,xe=null,_e=0;const Ie=Ae.contentNameScopesList.getScopeNames();for(let Pe=0,Fe=ce.length;Pe<Fe;Pe++){const Le=ce[Pe];if(!Le.matcher(Ie))continue;const We=Ce.getRule(Le.ruleId),{ruleScanner:Me,findOptions:G}=M(We,Ce,null,Re,we===De),$=Me.findNextMatchSync(ze,we,G);if(!$)continue;C.DebugFlags.InDebugMode&&(console.log(`  matched injection: ${Le.debugSelector}`),console.log(Me.toString()));const le=$.captureIndices[0].start;if(!(le>=Ge)&&(Ge=le,xe=$.captureIndices,ve=$.ruleId,_e=Le.priority,Ge===we))break}return xe?{priorityMatch:-1===_e,captureIndices:xe,matchedRuleId:ve}:null}(me,V,te,he,re,K,Q);if(!E)return Y;if(!Y)return E;const se=Y.captureIndices[0].start,J=E.captureIndices[0].start;return J<se||E.priorityMatch&&J===se?E:Y}(c,d,_,a,e,k);if(!z)return C.DebugFlags.InDebugMode&&console.log("  no more matches."),n.produce(e,l),void(h=!0);const U=z.captureIndices,X=z.matchedRuleId,Z=!!(U&&U.length>0)&&U[0].end>a;if(X===s.endRuleId){const V=e.getRule(c);C.DebugFlags.InDebugMode&&console.log("  popping "+V.debugName+" - "+V.debugEndRegExp),n.produce(e,U[0].start),e=e.withContentNameScopesList(e.nameScopesList),T(c,d,_,e,n,V.endCaptures,U),n.produce(e,U[0].end);const te=e;if(e=e.parent,k=te.getAnchorPos(),!Z&&te.getEnterPos()===a)return C.DebugFlags.InDebugMode&&console.error("[1] - Grammar is in an endless loop - Grammar pushed & popped a rule without advancing"),n.produce(e=te,l),void(h=!0)}else{const V=c.getRule(X);n.produce(e,U[0].start);const te=e,he=V.getName(d.content,U),re=e.contentNameScopesList.pushAttributed(he,c);if(e=e.push(X,a,k,U[0].end===l,null,re,re),V instanceof s.BeginEndRule){const K=V;C.DebugFlags.InDebugMode&&console.log("  pushing "+K.debugName+" - "+K.debugBeginRegExp),T(c,d,_,e,n,K.beginCaptures,U),n.produce(e,U[0].end),k=U[0].end;const Q=K.getContentName(d.content,U),Y=re.pushAttributed(Q,c);if(e=e.withContentNameScopesList(Y),K.endHasBackReferences&&(e=e.withEndRule(K.getEndWithResolvedBackReferences(d.content,U))),!Z&&te.hasSameRuleAs(e))return C.DebugFlags.InDebugMode&&console.error("[2] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),e=e.pop(),n.produce(e,l),void(h=!0)}else if(V instanceof s.BeginWhileRule){const K=V;C.DebugFlags.InDebugMode&&console.log("  pushing "+K.debugName),T(c,d,_,e,n,K.beginCaptures,U),n.produce(e,U[0].end),k=U[0].end;const Q=K.getContentName(d.content,U),Y=re.pushAttributed(Q,c);if(e=e.withContentNameScopesList(Y),K.whileHasBackReferences&&(e=e.withEndRule(K.getWhileWithResolvedBackReferences(d.content,U))),!Z&&te.hasSameRuleAs(e))return C.DebugFlags.InDebugMode&&console.error("[3] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),e=e.pop(),n.produce(e,l),void(h=!0)}else{const K=V;if(C.DebugFlags.InDebugMode&&console.log("  matched "+K.debugName+" - "+K.debugMatchRegExp),T(c,d,_,e,n,K.captures,U),n.produce(e,U[0].end),e=e.pop(),!Z)return C.DebugFlags.InDebugMode&&console.error("[4] - Grammar is in an endless loop - Grammar is not advancing, nor is it pushing/popping"),e=e.safePop(),n.produce(e,l),void(h=!0)}}U[0].end>a&&(a=U[0].end,_=!1)}}function M(c,d,_,a,e){return C.UseOnigurumaFindOptions?{ruleScanner:c.compile(d,_),findOptions:L(a,e)}:{ruleScanner:c.compileAG(d,_,a,e),findOptions:0}}function S(c,d,_,a,e){return C.UseOnigurumaFindOptions?{ruleScanner:c.compileWhile(d,_),findOptions:L(a,e)}:{ruleScanner:c.compileWhileAG(d,_,a,e),findOptions:0}}function L(c,d){let _=0;return c||(_|=1),d||(_|=4),_}function T(c,d,_,a,e,n,r){if(0===n.length)return;const t=d.content,l=Math.min(n.length,r.length),h=[],k=r[0].end;for(let I=0;I<l;I++){const D=n[I];if(null===D)continue;const z=r[I];if(0===z.length)continue;if(z.start>k)break;for(;h.length>0&&h[h.length-1].endPos<=z.start;)e.produceFromScopes(h[h.length-1].scopes,h[h.length-1].endPos),h.pop();if(h.length>0?e.produceFromScopes(h[h.length-1].scopes,z.start):e.produce(a,z.start),D.retokenizeCapturedWithRuleId){const X=D.getName(t,r),Z=a.contentNameScopesList.pushAttributed(X,c),V=D.getContentName(t,r),te=Z.pushAttributed(V,c),he=a.push(D.retokenizeCapturedWithRuleId,z.start,-1,!1,null,Z,te),re=c.createOnigString(t.substring(0,z.end));y(c,re,_&&0===z.start,z.start,he,e,!1,0),N.disposeOnigString(re);continue}const U=D.getName(t,r);if(null!==U){const X=(h.length>0?h[h.length-1].scopes:a.contentNameScopesList).pushAttributed(U,c);h.push(new g(X,z.end))}}for(;h.length>0;)e.produceFromScopes(h[h.length-1].scopes,h[h.length-1].endPos),h.pop()}i._tokenizeString=y;class g{constructor(d,_){this.scopes=d,this.endPos=_}}i.LocalStackElement=g},974:(ee,i)=>{function R(w,f){throw new Error("Near offset "+w.pos+": "+f+" ~~~"+w.source.substr(w.pos,50)+"~~~")}Object.defineProperty(i,"__esModule",{value:!0}),i.parseJSON=void 0,i.parseJSON=function(w,f,y){let M=new C(w),S=new N,L=0,T=null,g=[],c=[];function d(){g.push(L),c.push(T)}function _(){L=g.pop(),T=c.pop()}function a(e){R(M,e)}for(;s(M,S);){if(0===L){if(null!==T&&a("too many constructs in root"),3===S.type){T={},y&&(T.$vscodeTextmateLocation=S.toLocation(f)),d(),L=1;continue}if(2===S.type){T=[],d(),L=4;continue}a("unexpected token in root")}if(2===L){if(5===S.type){_();continue}if(7===S.type){L=3;continue}a("expected , or }")}if(1===L||3===L){if(1===L&&5===S.type){_();continue}if(1===S.type){let e=S.value;if(s(M,S)&&6===S.type||a("expected colon"),s(M,S)||a("expected value"),L=2,1===S.type){T[e]=S.value;continue}if(8===S.type){T[e]=null;continue}if(9===S.type){T[e]=!0;continue}if(10===S.type){T[e]=!1;continue}if(11===S.type){T[e]=parseFloat(S.value);continue}if(2===S.type){let n=[];T[e]=n,d(),L=4,T=n;continue}if(3===S.type){let n={};y&&(n.$vscodeTextmateLocation=S.toLocation(f)),T[e]=n,d(),L=1,T=n;continue}}a("unexpected token in dict")}if(5===L){if(4===S.type){_();continue}if(7===S.type){L=6;continue}a("expected , or ]")}if(4===L||6===L){if(4===L&&4===S.type){_();continue}if(L=5,1===S.type){T.push(S.value);continue}if(8===S.type){T.push(null);continue}if(9===S.type){T.push(!0);continue}if(10===S.type){T.push(!1);continue}if(11===S.type){T.push(parseFloat(S.value));continue}if(2===S.type){let e=[];T.push(e),d(),L=4,T=e;continue}if(3===S.type){let e={};y&&(e.$vscodeTextmateLocation=S.toLocation(f)),T.push(e),d(),L=1,T=e;continue}a("unexpected token in array")}a("unknown state")}return 0!==c.length&&a("unclosed constructs"),T};class C{constructor(f){this.source=f,this.pos=0,this.len=f.length,this.line=1,this.char=0}}class N{constructor(){this.value=null,this.type=0,this.offset=-1,this.len=-1,this.line=-1,this.char=-1}toLocation(f){return{filename:f,line:this.line,char:this.char}}}function s(w,f){f.value=null,f.type=0,f.offset=-1,f.len=-1,f.line=-1,f.char=-1;let y,M=w.source,S=w.pos,L=w.len,T=w.line,g=w.char;for(;;){if(S>=L)return!1;if(y=M.charCodeAt(S),32!==y&&9!==y&&13!==y){if(10!==y)break;S++,T++,g=0}else S++,g++}if(f.offset=S,f.line=T,f.char=g,34===y){for(f.type=1,S++,g++;;){if(S>=L)return!1;if(y=M.charCodeAt(S),S++,g++,92!==y){if(34===y)break}else S++,g++}f.value=M.substring(f.offset+1,S-1).replace(/\\u([0-9A-Fa-f]{4})/g,(c,d)=>String.fromCodePoint(parseInt(d,16))).replace(/\\(.)/g,(c,d)=>{switch(d){case'"':return'"';case"\\":return"\\";case"/":return"/";case"b":return"\b";case"f":return"\f";case"n":return"\n";case"r":return"\r";case"t":return"\t";default:R(w,"invalid escape sequence")}throw new Error("unreachable")})}else if(91===y)f.type=2,S++,g++;else if(123===y)f.type=3,S++,g++;else if(93===y)f.type=4,S++,g++;else if(125===y)f.type=5,S++,g++;else if(58===y)f.type=6,S++,g++;else if(44===y)f.type=7,S++,g++;else if(110===y){if(f.type=8,S++,g++,y=M.charCodeAt(S),117!==y||(S++,g++,y=M.charCodeAt(S),108!==y)||(S++,g++,y=M.charCodeAt(S),108!==y))return!1;S++,g++}else if(116===y){if(f.type=9,S++,g++,y=M.charCodeAt(S),114!==y||(S++,g++,y=M.charCodeAt(S),117!==y)||(S++,g++,y=M.charCodeAt(S),101!==y))return!1;S++,g++}else if(102===y){if(f.type=10,S++,g++,y=M.charCodeAt(S),97!==y||(S++,g++,y=M.charCodeAt(S),108!==y)||(S++,g++,y=M.charCodeAt(S),115!==y)||(S++,g++,y=M.charCodeAt(S),101!==y))return!1;S++,g++}else for(f.type=11;;){if(S>=L)return!1;if(y=M.charCodeAt(S),!(46===y||y>=48&&y<=57||101===y||69===y||45===y||43===y))break;S++,g++}return f.len=S-f.offset,null===f.value&&(f.value=M.substr(f.offset,f.len)),w.pos=S,w.line=T,w.char=g,!0}},787:function(ee,i,R){var C=this&&this.__createBinding||(Object.create?function(L,T,g,c){void 0===c&&(c=g),Object.defineProperty(L,c,{enumerable:!0,get:function(){return T[g]}})}:function(L,T,g,c){void 0===c&&(c=g),L[c]=T[g]}),N=this&&this.__exportStar||function(L,T){for(var g in L)"default"===g||Object.prototype.hasOwnProperty.call(T,g)||C(T,L,g)};Object.defineProperty(i,"__esModule",{value:!0}),i.applyStateStackDiff=i.diffStateStacksRefEq=i.parseRawGrammar=i.INITIAL=i.Registry=void 0;const s=R(391),w=R(50),f=R(652),y=R(583),M=R(965),S=R(442);Object.defineProperty(i,"applyStateStackDiff",{enumerable:!0,get:function(){return S.applyStateStackDiff}}),Object.defineProperty(i,"diffStateStacksRefEq",{enumerable:!0,get:function(){return S.diffStateStacksRefEq}}),N(R(44),i),i.Registry=class{constructor(L){this._options=L,this._syncRegistry=new f.SyncRegistry(y.Theme.createFromRawTheme(L.theme,L.colorMap),L.onigLib),this._ensureGrammarCache=new Map}dispose(){this._syncRegistry.dispose()}setTheme(L,T){this._syncRegistry.setTheme(y.Theme.createFromRawTheme(L,T))}getColorMap(){return this._syncRegistry.getColorMap()}loadGrammarWithEmbeddedLanguages(L,T,g){return this.loadGrammarWithConfiguration(L,T,{embeddedLanguages:g})}loadGrammarWithConfiguration(L,T,g){return this._loadGrammar(L,T,g.embeddedLanguages,g.tokenTypes,new s.BalancedBracketSelectors(g.balancedBracketSelectors||[],g.unbalancedBracketSelectors||[]))}loadGrammar(L){return this._loadGrammar(L,0,null,null,null)}_loadGrammar(L,T,g,c,d){var _=this;return ae(function*(){const a=new M.ScopeDependencyProcessor(_._syncRegistry,L);for(;a.Q.length>0;)yield Promise.all(a.Q.map(e=>_._loadSingleGrammar(e.scopeName))),a.processQueue();return _._grammarForScopeName(L,T,g,c,d)})()}_loadSingleGrammar(L){var T=this;return ae(function*(){return T._ensureGrammarCache.has(L)||T._ensureGrammarCache.set(L,T._doLoadSingleGrammar(L)),T._ensureGrammarCache.get(L)})()}_doLoadSingleGrammar(L){var T=this;return ae(function*(){const g=yield T._options.loadGrammar(L);if(g){const c="function"==typeof T._options.getInjections?T._options.getInjections(L):void 0;T._syncRegistry.addGrammar(g,c)}})()}addGrammar(L){var T=this;return ae(function*(g,c=[],d=0,_=null){return T._syncRegistry.addGrammar(g,c),yield T._grammarForScopeName(g.scopeName,d,_)}).apply(this,arguments)}_grammarForScopeName(L,T=0,g=null,c=null,d=null){return this._syncRegistry.grammarForScopeName(L,T,g,c,d)}},i.INITIAL=s.StateStackImpl.NULL,i.parseRawGrammar=w.parseRawGrammar},736:(ee,i)=>{function R(C){return!!C&&!!C.match(/[\w\.:]+/)}Object.defineProperty(i,"__esModule",{value:!0}),i.createMatchers=void 0,i.createMatchers=function(C,N){const s=[],w=function(S){let L=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,T=L.exec(S);return{next:()=>{if(!T)return null;const g=T[0];return T=L.exec(S),g}}}(C);let f=w.next();for(;null!==f;){let S=0;if(2===f.length&&":"===f.charAt(1)){switch(f.charAt(0)){case"R":S=1;break;case"L":S=-1;break;default:console.log(`Unknown priority ${f} in scope selector`)}f=w.next()}let L=M();if(s.push({matcher:L,priority:S}),","!==f)break;f=w.next()}return s;function y(){if("-"===f){f=w.next();const S=y();return L=>!!S&&!S(L)}if("("===f){f=w.next();const S=function(){const L=[];let T=M();for(;T&&(L.push(T),"|"===f||","===f);){do{f=w.next()}while("|"===f||","===f);T=M()}return g=>L.some(c=>c(g))}();return")"===f&&(f=w.next()),S}if(R(f)){const S=[];do{S.push(f),f=w.next()}while(R(f));return L=>N(S,L)}return null}function M(){const S=[];let L=y();for(;L;)S.push(L),L=y();return T=>S.every(g=>g(T))}}},44:(ee,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.disposeOnigString=void 0,i.disposeOnigString=function(R){"function"==typeof R.dispose&&R.dispose()}},50:(ee,i,R)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseRawGrammar=void 0;const C=R(69),N=R(350),s=R(974);i.parseRawGrammar=function(w,f=null){return null!==f&&/\.json$/.test(f)?(y=w,N.DebugFlags.InDebugMode?s.parseJSON(y,f,!0):JSON.parse(y)):(S=w,N.DebugFlags.InDebugMode?C.parseWithLocation(S,f,"$vscodeTextmateLocation"):C.parsePLIST(S));var S,y}},69:(ee,i)=>{function R(C,N,s){const w=C.length;let f=0,y=1,M=0;function S(E){if(null===s)f+=E;else for(;E>0;)10===C.charCodeAt(f)?(f++,y++,M=0):(f++,M++),E--}function L(E){null===s?f=E:S(E-f)}function T(){for(;f<w;){let E=C.charCodeAt(f);if(32!==E&&9!==E&&13!==E&&10!==E)break;S(1)}}function g(E){return C.substr(f,E.length)===E&&(S(E.length),!0)}function c(E){let se=C.indexOf(E,f);L(-1!==se?se+E.length:w)}function d(E){let se=C.indexOf(E,f);if(-1!==se){let J=C.substring(f,se);return L(se+E.length),J}{let J=C.substr(f);return L(w),J}}w>0&&65279===C.charCodeAt(0)&&(f=1);let _=0,a=null,e=[],n=[],r=null;function t(E,se){e.push(_),n.push(a),_=E,a=se}function l(){if(0===e.length)return h("illegal state stack");_=e.pop(),a=n.pop()}function h(E){throw new Error("Near offset "+f+": "+E+" ~~~"+C.substr(f,50)+"~~~")}const k=function(){if(null===r)return h("missing <key>");let E={};null!==s&&(E[s]={filename:N,line:y,char:M}),a[r]=E,r=null,t(1,E)},I=function(){if(null===r)return h("missing <key>");let E=[];a[r]=E,r=null,t(2,E)},D=function(){let E={};null!==s&&(E[s]={filename:N,line:y,char:M}),a.push(E),t(1,E)},z=function(){let E=[];a.push(E),t(2,E)};function U(){if(1!==_)return h("unexpected </dict>");l()}function X(){return 1===_||2!==_?h("unexpected </array>"):void l()}function Z(E){if(1===_){if(null===r)return h("missing <key>");a[r]=E,r=null}else 2===_?a.push(E):a=E}function V(E){if(isNaN(E))return h("cannot parse float");if(1===_){if(null===r)return h("missing <key>");a[r]=E,r=null}else 2===_?a.push(E):a=E}function te(E){if(isNaN(E))return h("cannot parse integer");if(1===_){if(null===r)return h("missing <key>");a[r]=E,r=null}else 2===_?a.push(E):a=E}function he(E){if(1===_){if(null===r)return h("missing <key>");a[r]=E,r=null}else 2===_?a.push(E):a=E}function re(E){if(1===_){if(null===r)return h("missing <key>");a[r]=E,r=null}else 2===_?a.push(E):a=E}function K(E){if(1===_){if(null===r)return h("missing <key>");a[r]=E,r=null}else 2===_?a.push(E):a=E}function Q(){let E=d(">"),se=!1;return 47===E.charCodeAt(E.length-1)&&(se=!0,E=E.substring(0,E.length-1)),{name:E.trim(),isClosed:se}}function Y(E){if(E.isClosed)return"";let se=d("</");return c(">"),se.replace(/&#([0-9]+);/g,function(J,ce){return String.fromCodePoint(parseInt(ce,10))}).replace(/&#x([0-9a-f]+);/g,function(J,ce){return String.fromCodePoint(parseInt(ce,16))}).replace(/&amp;|&lt;|&gt;|&quot;|&apos;/g,function(J){switch(J){case"&amp;":return"&";case"&lt;":return"<";case"&gt;":return">";case"&quot;":return'"';case"&apos;":return"'"}return J})}for(;f<w&&(T(),!(f>=w));){const E=C.charCodeAt(f);if(S(1),60!==E)return h("expected <");if(f>=w)return h("unexpected end of input");const se=C.charCodeAt(f);if(63===se){S(1),c("?>");continue}if(33===se){if(S(1),g("--")){c("--\x3e");continue}c(">");continue}if(47===se){if(S(1),T(),g("plist")){c(">");continue}if(g("dict")){c(">"),U();continue}if(g("array")){c(">"),X();continue}return h("unexpected closed tag")}let J=Q();switch(J.name){case"dict":1===_?k():2===_?D():(a={},null!==s&&(a[s]={filename:N,line:y,char:M}),t(1,a)),J.isClosed&&U();continue;case"array":1===_?I():2===_?z():(a=[],t(2,a)),J.isClosed&&X();continue;case"key":me=Y(J),1!==_?h("unexpected <key>"):null!==r?h("too many <key>"):r=me;continue;case"string":Z(Y(J));continue;case"real":V(parseFloat(Y(J)));continue;case"integer":te(parseInt(Y(J),10));continue;case"date":he(new Date(Y(J)));continue;case"data":re(Y(J));continue;case"true":Y(J),K(!0);continue;case"false":Y(J),K(!1);continue}if(!/^plist/.test(J.name))return h("unexpected opened tag "+J.name)}var me;return a}Object.defineProperty(i,"__esModule",{value:!0}),i.parsePLIST=i.parseWithLocation=void 0,i.parseWithLocation=function(C,N,s){return R(C,N,s)},i.parsePLIST=function(C){return R(C,null,null)}},652:(ee,i,R)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SyncRegistry=void 0;const C=R(391);i.SyncRegistry=class{constructor(N,s){this._onigLibPromise=s,this._grammars=new Map,this._rawGrammars=new Map,this._injectionGrammars=new Map,this._theme=N}dispose(){for(const N of this._grammars.values())N.dispose()}setTheme(N){this._theme=N}getColorMap(){return this._theme.getColorMap()}addGrammar(N,s){this._rawGrammars.set(N.scopeName,N),s&&this._injectionGrammars.set(N.scopeName,s)}lookup(N){return this._rawGrammars.get(N)}injections(N){return this._injectionGrammars.get(N)}getDefaults(){return this._theme.getDefaults()}themeMatch(N){return this._theme.match(N)}grammarForScopeName(N,s,w,f,y){var M=this;return ae(function*(){if(!M._grammars.has(N)){let S=M._rawGrammars.get(N);if(!S)return null;M._grammars.set(N,C.createGrammar(N,S,s,w,f,y,M,yield M._onigLibPromise))}return M._grammars.get(N)})()}}},792:(ee,i,R)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CompiledRule=i.RegExpSourceList=i.RegExpSource=i.RuleFactory=i.BeginWhileRule=i.BeginEndRule=i.IncludeOnlyRule=i.MatchRule=i.CaptureRule=i.Rule=i.ruleIdToNumber=i.ruleIdFromNumber=i.whileRuleId=i.endRuleId=void 0;const C=R(878),N=R(965),s=/\\(\d+)/,w=/\\(\d+)/g;Symbol("RuleId"),i.endRuleId=-1,i.whileRuleId=-2,i.ruleIdFromNumber=function(a){return a},i.ruleIdToNumber=function(a){return a};class f{constructor(e,n,r,t){this.$location=e,this.id=n,this._name=r||null,this._nameIsCapturing=C.RegexSource.hasCaptures(this._name),this._contentName=t||null,this._contentNameIsCapturing=C.RegexSource.hasCaptures(this._contentName)}get debugName(){const e=this.$location?`${C.basename(this.$location.filename)}:${this.$location.line}`:"unknown";return`${this.constructor.name}#${this.id} @ ${e}`}getName(e,n){return this._nameIsCapturing&&null!==this._name&&null!==e&&null!==n?C.RegexSource.replaceCaptures(this._name,e,n):this._name}getContentName(e,n){return this._contentNameIsCapturing&&null!==this._contentName?C.RegexSource.replaceCaptures(this._contentName,e,n):this._contentName}}i.Rule=f;class y extends f{constructor(e,n,r,t,l){super(e,n,r,t),this.retokenizeCapturedWithRuleId=l}dispose(){}collectPatterns(e,n){throw new Error("Not supported!")}compile(e,n){throw new Error("Not supported!")}compileAG(e,n,r,t){throw new Error("Not supported!")}}i.CaptureRule=y;class M extends f{constructor(e,n,r,t,l){super(e,n,r,null),this._match=new c(t,this.id),this.captures=l,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugMatchRegExp(){return`${this._match.source}`}collectPatterns(e,n){n.push(this._match)}compile(e,n){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,n,r,t){return this._getCachedCompiledPatterns(e).compileAG(e,r,t)}_getCachedCompiledPatterns(e){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new d,this.collectPatterns(e,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}}i.MatchRule=M;class S extends f{constructor(e,n,r,t,l){super(e,n,r,t),this.patterns=l.patterns,this.hasMissingPatterns=l.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}collectPatterns(e,n){for(const r of this.patterns)e.getRule(r).collectPatterns(e,n)}compile(e,n){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,n,r,t){return this._getCachedCompiledPatterns(e).compileAG(e,r,t)}_getCachedCompiledPatterns(e){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new d,this.collectPatterns(e,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}}i.IncludeOnlyRule=S;class L extends f{constructor(e,n,r,t,l,h,k,I,D,z){super(e,n,r,t),this._begin=new c(l,this.id),this.beginCaptures=h,this._end=new c(k||"\uffff",-1),this.endHasBackReferences=this._end.hasBackReferences,this.endCaptures=I,this.applyEndPatternLast=D||!1,this.patterns=z.patterns,this.hasMissingPatterns=z.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugEndRegExp(){return`${this._end.source}`}getEndWithResolvedBackReferences(e,n){return this._end.resolveBackReferences(e,n)}collectPatterns(e,n){n.push(this._begin)}compile(e,n){return this._getCachedCompiledPatterns(e,n).compile(e)}compileAG(e,n,r,t){return this._getCachedCompiledPatterns(e,n).compileAG(e,r,t)}_getCachedCompiledPatterns(e,n){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new d;for(const r of this.patterns)e.getRule(r).collectPatterns(e,this._cachedCompiledPatterns);this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)}return this._end.hasBackReferences&&this._cachedCompiledPatterns.setSource(this.applyEndPatternLast?this._cachedCompiledPatterns.length()-1:0,n),this._cachedCompiledPatterns}}i.BeginEndRule=L;class T extends f{constructor(e,n,r,t,l,h,k,I,D){super(e,n,r,t),this._begin=new c(l,this.id),this.beginCaptures=h,this.whileCaptures=I,this._while=new c(k,i.whileRuleId),this.whileHasBackReferences=this._while.hasBackReferences,this.patterns=D.patterns,this.hasMissingPatterns=D.hasMissingPatterns,this._cachedCompiledPatterns=null,this._cachedCompiledWhilePatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugWhileRegExp(){return`${this._while.source}`}getWhileWithResolvedBackReferences(e,n){return this._while.resolveBackReferences(e,n)}collectPatterns(e,n){n.push(this._begin)}compile(e,n){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,n,r,t){return this._getCachedCompiledPatterns(e).compileAG(e,r,t)}_getCachedCompiledPatterns(e){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new d;for(const n of this.patterns)e.getRule(n).collectPatterns(e,this._cachedCompiledPatterns)}return this._cachedCompiledPatterns}compileWhile(e,n){return this._getCachedCompiledWhilePatterns(e,n).compile(e)}compileWhileAG(e,n,r,t){return this._getCachedCompiledWhilePatterns(e,n).compileAG(e,r,t)}_getCachedCompiledWhilePatterns(e,n){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new d,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,n||"\uffff"),this._cachedCompiledWhilePatterns}}i.BeginWhileRule=T;class g{static createCaptureRule(e,n,r,t,l){return e.registerRule(h=>new y(n,h,r,t,l))}static getCompiledRuleId(e,n,r){return e.id||n.registerRule(t=>{if(e.id=t,e.match)return new M(e.$vscodeTextmateLocation,e.id,e.name,e.match,g._compileCaptures(e.captures,n,r));if(void 0===e.begin){e.repository&&(r=C.mergeObjects({},r,e.repository));let l=e.patterns;return void 0===l&&e.include&&(l=[{include:e.include}]),new S(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,g._compilePatterns(l,n,r))}return e.while?new T(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,g._compileCaptures(e.beginCaptures||e.captures,n,r),e.while,g._compileCaptures(e.whileCaptures||e.captures,n,r),g._compilePatterns(e.patterns,n,r)):new L(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,g._compileCaptures(e.beginCaptures||e.captures,n,r),e.end,g._compileCaptures(e.endCaptures||e.captures,n,r),e.applyEndPatternLast,g._compilePatterns(e.patterns,n,r))}),e.id}static _compileCaptures(e,n,r){let t=[];if(e){let l=0;for(const h in e){if("$vscodeTextmateLocation"===h)continue;const k=parseInt(h,10);k>l&&(l=k)}for(let h=0;h<=l;h++)t[h]=null;for(const h in e){if("$vscodeTextmateLocation"===h)continue;const k=parseInt(h,10);let I=0;e[h].patterns&&(I=g.getCompiledRuleId(e[h],n,r)),t[k]=g.createCaptureRule(n,e[h].$vscodeTextmateLocation,e[h].name,e[h].contentName,I)}}return t}static _compilePatterns(e,n,r){let t=[];if(e)for(let l=0,h=e.length;l<h;l++){const k=e[l];let I=-1;if(k.include){const D=N.parseInclude(k.include);switch(D.kind){case 0:case 1:I=g.getCompiledRuleId(r[k.include],n,r);break;case 2:let z=r[D.ruleName];z&&(I=g.getCompiledRuleId(z,n,r));break;case 3:case 4:const X=4===D.kind?D.ruleName:null,Z=n.getExternalGrammar(D.scopeName,r);if(Z)if(X){let V=Z.repository[X];V&&(I=g.getCompiledRuleId(V,n,Z.repository))}else I=g.getCompiledRuleId(Z.repository.$self,n,Z.repository)}}else I=g.getCompiledRuleId(k,n,r);if(-1!==I){const D=n.getRule(I);let z=!1;if((D instanceof S||D instanceof L||D instanceof T)&&D.hasMissingPatterns&&0===D.patterns.length&&(z=!0),z)continue;t.push(I)}}return{patterns:t,hasMissingPatterns:(e?e.length:0)!==t.length}}}i.RuleFactory=g;class c{constructor(e,n){if(e){const r=e.length;let t=0,l=[],h=!1;for(let k=0;k<r;k++)if("\\"===e.charAt(k)&&k+1<r){const I=e.charAt(k+1);"z"===I?(l.push(e.substring(t,k)),l.push("$(?!\\n)(?<!\\n)"),t=k+2):"A"!==I&&"G"!==I||(h=!0),k++}this.hasAnchor=h,0===t?this.source=e:(l.push(e.substring(t,r)),this.source=l.join(""))}else this.hasAnchor=!1,this.source=e;this._anchorCache=this.hasAnchor?this._buildAnchorCache():null,this.ruleId=n,this.hasBackReferences=s.test(this.source)}clone(){return new c(this.source,this.ruleId)}setSource(e){this.source!==e&&(this.source=e,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))}resolveBackReferences(e,n){let r=n.map(t=>e.substring(t.start,t.end));return w.lastIndex=0,this.source.replace(w,(t,l)=>C.escapeRegExpCharacters(r[parseInt(l,10)]||""))}_buildAnchorCache(){let e,n,r,t,l=[],h=[],k=[],I=[];for(e=0,n=this.source.length;e<n;e++)r=this.source.charAt(e),l[e]=r,h[e]=r,k[e]=r,I[e]=r,"\\"===r&&e+1<n&&(t=this.source.charAt(e+1),"A"===t?(l[e+1]="\uffff",h[e+1]="\uffff",k[e+1]="A",I[e+1]="A"):"G"===t?(l[e+1]="\uffff",h[e+1]="G",k[e+1]="\uffff",I[e+1]="G"):(l[e+1]=t,h[e+1]=t,k[e+1]=t,I[e+1]=t),e++);return{A0_G0:l.join(""),A0_G1:h.join(""),A1_G0:k.join(""),A1_G1:I.join("")}}resolveAnchors(e,n){return this.hasAnchor&&this._anchorCache?e?n?this._anchorCache.A1_G1:this._anchorCache.A1_G0:n?this._anchorCache.A0_G1:this._anchorCache.A0_G0:this.source}}i.RegExpSource=c;class d{constructor(){this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}dispose(){this._disposeCaches()}_disposeCaches(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)}push(e){this._items.push(e),this._hasAnchors=this._hasAnchors||e.hasAnchor}unshift(e){this._items.unshift(e),this._hasAnchors=this._hasAnchors||e.hasAnchor}length(){return this._items.length}setSource(e,n){this._items[e].source!==n&&(this._disposeCaches(),this._items[e].setSource(n))}compile(e){if(!this._cached){let n=this._items.map(r=>r.source);this._cached=new _(e,n,this._items.map(r=>r.ruleId))}return this._cached}compileAG(e,n,r){return this._hasAnchors?n?r?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(e,n,r)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(e,n,r)),this._anchorCache.A1_G0):r?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(e,n,r)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(e,n,r)),this._anchorCache.A0_G0):this.compile(e)}_resolveAnchors(e,n,r){let t=this._items.map(l=>l.resolveAnchors(n,r));return new _(e,t,this._items.map(l=>l.ruleId))}}i.RegExpSourceList=d;class _{constructor(e,n,r){this.regExps=n,this.rules=r,this.scanner=e.createOnigScanner(n)}dispose(){"function"==typeof this.scanner.dispose&&this.scanner.dispose()}toString(){const e=[];for(let n=0,r=this.rules.length;n<r;n++)e.push("   - "+this.rules[n]+": "+this.regExps[n]);return e.join("\n")}findNextMatchSync(e,n,r){const t=this.scanner.findNextMatchSync(e,n,r);return t?{ruleId:this.rules[t.index],captureIndices:t.captureIndices}:null}}i.CompiledRule=_},583:(ee,i,R)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ThemeTrieElement=i.ThemeTrieElementRule=i.ColorMap=i.fontStyleToString=i.ParsedThemeRule=i.parseTheme=i.StyleAttributes=i.ScopeStack=i.Theme=void 0;const C=R(878);class N{constructor(c,d,_){this._colorMap=c,this._defaults=d,this._root=_,this._cachedMatchRoot=new C.CachedFn(a=>this._root.match(a))}static createFromRawTheme(c,d){return this.createFromParsedTheme(y(c),d)}static createFromParsedTheme(c,d){return function(_,a){_.sort((k,I)=>{let D=C.strcmp(k.scope,I.scope);return 0!==D?D:(D=C.strArrCmp(k.parentScopes,I.parentScopes),0!==D?D:k.index-I.index)});let e=0,n="#000000",r="#ffffff";for(;_.length>=1&&""===_[0].scope;){let k=_.shift();-1!==k.fontStyle&&(e=k.fontStyle),null!==k.foreground&&(n=k.foreground),null!==k.background&&(r=k.background)}let t=new S(a),l=new f(e,t.getId(n),t.getId(r)),h=new T(new L(0,null,-1,0,0),[]);for(let k=0,I=_.length;k<I;k++){let D=_[k];h.insert(0,D.scope,D.parentScopes,D.fontStyle,t.getId(D.foreground),t.getId(D.background))}return new N(t,l,h)}(c,d)}getColorMap(){return this._colorMap.getColorMap()}getDefaults(){return this._defaults}match(c){if(null===c)return this._defaults;const _=this._cachedMatchRoot.get(c.scopeName).find(a=>function(e,n){if(null===n)return!0;let r=0,t=n[r];for(;e;){if(w(e.scopeName,t)){if(r++,r===n.length)return!0;t=n[r]}e=e.parent}return!1}(c.parent,a.parentScopes));return _?new f(_.fontStyle,_.foreground,_.background):null}}i.Theme=N;class s{constructor(c,d){this.parent=c,this.scopeName=d}static push(c,d){for(const _ of d)c=new s(c,_);return c}static from(...c){let d=null;for(let _=0;_<c.length;_++)d=new s(d,c[_]);return d}push(c){return new s(this,c)}getSegments(){let c=this;const d=[];for(;c;)d.push(c.scopeName),c=c.parent;return d.reverse(),d}toString(){return this.getSegments().join(" ")}extends(c){return this===c||null!==this.parent&&this.parent.extends(c)}getExtensionIfDefined(c){const d=[];let _=this;for(;_&&_!==c;)d.push(_.scopeName),_=_.parent;return _===c?d.reverse():void 0}}function w(g,c){return c===g||g.startsWith(c)&&"."===g[c.length]}i.ScopeStack=s;class f{constructor(c,d,_){this.fontStyle=c,this.foregroundId=d,this.backgroundId=_}}function y(g){if(!g)return[];if(!g.settings||!Array.isArray(g.settings))return[];let c=g.settings,d=[],_=0;for(let a=0,e=c.length;a<e;a++){let n,r=c[a];if(!r.settings)continue;if("string"==typeof r.scope){let k=r.scope;k=k.replace(/^[,]+/,""),k=k.replace(/[,]+$/,""),n=k.split(",")}else n=Array.isArray(r.scope)?r.scope:[""];let t=-1;if("string"==typeof r.settings.fontStyle){t=0;let k=r.settings.fontStyle.split(" ");for(let I=0,D=k.length;I<D;I++)switch(k[I]){case"italic":t|=1;break;case"bold":t|=2;break;case"underline":t|=4;break;case"strikethrough":t|=8}}let l=null;"string"==typeof r.settings.foreground&&C.isValidHexColor(r.settings.foreground)&&(l=r.settings.foreground);let h=null;"string"==typeof r.settings.background&&C.isValidHexColor(r.settings.background)&&(h=r.settings.background);for(let k=0,I=n.length;k<I;k++){let D=n[k].trim().split(" "),z=D[D.length-1],U=null;D.length>1&&(U=D.slice(0,D.length-1),U.reverse()),d[_++]=new M(z,U,a,t,l,h)}}return d}i.StyleAttributes=f,i.parseTheme=y;class M{constructor(c,d,_,a,e,n){this.scope=c,this.parentScopes=d,this.index=_,this.fontStyle=a,this.foreground=e,this.background=n}}i.ParsedThemeRule=M,i.fontStyleToString=function(g){if(-1===g)return"not set";let c="";return 1&g&&(c+="italic "),2&g&&(c+="bold "),4&g&&(c+="underline "),8&g&&(c+="strikethrough "),""===c&&(c="none"),c.trim()};class S{constructor(c){if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(c)){this._isFrozen=!0;for(let d=0,_=c.length;d<_;d++)this._color2id[c[d]]=d,this._id2color[d]=c[d]}else this._isFrozen=!1}getId(c){if(null===c)return 0;c=c.toUpperCase();let d=this._color2id[c];if(d)return d;if(this._isFrozen)throw new Error(`Missing color in color map - ${c}`);return d=++this._lastColorId,this._color2id[c]=d,this._id2color[d]=c,d}getColorMap(){return this._id2color.slice(0)}}i.ColorMap=S;class L{constructor(c,d,_,a,e){this.scopeDepth=c,this.parentScopes=d,this.fontStyle=_,this.foreground=a,this.background=e}clone(){return new L(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)}static cloneArr(c){let d=[];for(let _=0,a=c.length;_<a;_++)d[_]=c[_].clone();return d}acceptOverwrite(c,d,_,a){this.scopeDepth>c?console.log("how did this happen?"):this.scopeDepth=c,-1!==d&&(this.fontStyle=d),0!==_&&(this.foreground=_),0!==a&&(this.background=a)}}i.ThemeTrieElementRule=L;class T{constructor(c,d=[],_={}){this._mainRule=c,this._children=_,this._rulesWithParentScopes=d}static _sortBySpecificity(c){return 1===c.length||c.sort(this._cmpBySpecificity),c}static _cmpBySpecificity(c,d){if(c.scopeDepth===d.scopeDepth){const _=c.parentScopes,a=d.parentScopes;let e=null===_?0:_.length,n=null===a?0:a.length;if(e===n)for(let r=0;r<e;r++){const t=_[r].length,l=a[r].length;if(t!==l)return l-t}return n-e}return d.scopeDepth-c.scopeDepth}match(c){if(""===c)return T._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes));let d,_,a=c.indexOf(".");return-1===a?(d=c,_=""):(d=c.substring(0,a),_=c.substring(a+1)),this._children.hasOwnProperty(d)?this._children[d].match(_):T._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes))}insert(c,d,_,a,e,n){if(""===d)return void this._doInsertHere(c,_,a,e,n);let r,t,l,h=d.indexOf(".");-1===h?(r=d,t=""):(r=d.substring(0,h),t=d.substring(h+1)),this._children.hasOwnProperty(r)?l=this._children[r]:(l=new T(this._mainRule.clone(),L.cloneArr(this._rulesWithParentScopes)),this._children[r]=l),l.insert(c+1,t,_,a,e,n)}_doInsertHere(c,d,_,a,e){if(null!==d){for(let n=0,r=this._rulesWithParentScopes.length;n<r;n++){let t=this._rulesWithParentScopes[n];if(0===C.strArrCmp(t.parentScopes,d))return void t.acceptOverwrite(c,_,a,e)}-1===_&&(_=this._mainRule.fontStyle),0===a&&(a=this._mainRule.foreground),0===e&&(e=this._mainRule.background),this._rulesWithParentScopes.push(new L(c,d,_,a,e))}else this._mainRule.acceptOverwrite(c,_,a,e)}}i.ThemeTrieElement=T},878:(ee,i)=>{function R(s){return Array.isArray(s)?function(w){let f=[];for(let y=0,M=w.length;y<M;y++)f[y]=R(w[y]);return f}(s):"object"==typeof s?function(w){let f={};for(let y in w)f[y]=R(w[y]);return f}(s):s}Object.defineProperty(i,"__esModule",{value:!0}),i.performanceNow=i.CachedFn=i.escapeRegExpCharacters=i.isValidHexColor=i.strArrCmp=i.strcmp=i.RegexSource=i.basename=i.mergeObjects=i.clone=void 0,i.clone=function(s){return R(s)},i.mergeObjects=function(s,...w){return w.forEach(f=>{for(let y in f)s[y]=f[y]}),s},i.basename=function s(w){const f=~w.lastIndexOf("/")||~w.lastIndexOf("\\");return 0===f?w:~f==w.length-1?s(w.substring(0,w.length-1)):w.substr(1+~f)};let C=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/g;function N(s,w){return s<w?-1:s>w?1:0}i.RegexSource=class{static hasCaptures(s){return null!==s&&(C.lastIndex=0,C.test(s))}static replaceCaptures(s,w,f){return s.replace(C,(y,M,S,L)=>{let T=f[parseInt(M||S,10)];if(!T)return y;{let g=w.substring(T.start,T.end);for(;"."===g[0];)g=g.substring(1);switch(L){case"downcase":return g.toLowerCase();case"upcase":return g.toUpperCase();default:return g}}})}},i.strcmp=N,i.strArrCmp=function(s,w){if(null===s&&null===w)return 0;if(!s)return-1;if(!w)return 1;let f=s.length,y=w.length;if(f===y){for(let M=0;M<f;M++){let S=N(s[M],w[M]);if(0!==S)return S}return 0}return f-y},i.isValidHexColor=function(s){return!!(/^#[0-9a-f]{6}$/i.test(s)||/^#[0-9a-f]{8}$/i.test(s)||/^#[0-9a-f]{3}$/i.test(s)||/^#[0-9a-f]{4}$/i.test(s))},i.escapeRegExpCharacters=function(s){return s.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")},i.CachedFn=class{constructor(s){this.fn=s,this.cache=new Map}get(s){if(this.cache.has(s))return this.cache.get(s);const w=this.fn(s);return this.cache.set(s,w),w}},i.performanceNow=typeof performance>"u"?function(){return Date.now()}:function(){return performance.now()}}},pe={};return function ee(i){var R=pe[i];if(void 0!==R)return R.exports;var C=pe[i]={exports:{}};return je[i].call(C.exports,C,C.exports,ee),C.exports}(787)})()},36741:(Qe,He,j)=>{"use strict";j.r(He),j.d(He,{ITextMateTokenizationService:()=>pe.S,default:()=>At});var ae=j(10467),je=j(26389),pe=j(61472),ee=j(94723),i=j(61266),R=j(64392),C=j(12463),N=j(98662),s=j(63846),w=j(41233),f=j(25711),M=(j(74203),j(94130)),S=j(58087),L=j(28674),T=j(21082),g=j(96152),c=j(42496),d=j(323),_=j(51811),a=j(77483),e=j(82059),n=j(41922),r=j(71583),t=j(18335),l=j(15868),h=j(1335),k=j(14469),I=j(66464),D=j(85909),z=j(44085),U=j(9365),X=j(63641),Z=j(50658);class V extends w.jG{constructor(u,o,p,b,v,m,A){super(),this._grammar=u,this._initialState=o,this._containsEmbeddedLanguages=p,this._createBackgroundTokenizer=b,this._backgroundTokenizerShouldOnlyVerifyTokens=v,this._reportTokenizationTime=m,this._reportSlowTokenization=A,this._seenLanguages=[],this._onDidEncounterLanguage=this._register(new X.vl),this.onDidEncounterLanguage=this._onDidEncounterLanguage.event}get backgroundTokenizerShouldOnlyVerifyTokens(){return this._backgroundTokenizerShouldOnlyVerifyTokens()}getInitialState(){return this._initialState}tokenize(u,o,p){throw new Error("Not supported!")}createBackgroundTokenizer(u,o){if(this._createBackgroundTokenizer)return this._createBackgroundTokenizer(u,o)}tokenizeEncoded(u,o,p){const b=1e4*Math.random()<1,v=this._reportSlowTokenization||b,m=v?new Z.W(!0):void 0,A=this._grammar.tokenizeLine2(u,p,500);if(v){const x=m.elapsed();(b||x>32)&&this._reportTokenizationTime(x,u.length,b)}if(A.stoppedEarly)return console.warn(`Time limit reached when tokenizing line: ${u.substring(0,100)}`),new _.rY(A.tokens,p);if(this._containsEmbeddedLanguages){const x=this._seenLanguages,P=A.tokens;for(let B=0,H=P.length>>>1;B<H;B++){const de=d.xn.getLanguageId(P[1+(B<<1)]);x[de]||(x[de]=!0,this._onDidEncounterLanguage.fire(de))}}let O;return O=p.equals(A.ruleStack)?p:A.ruleStack,new _.rY(A.tokens,O)}}var te=j(17089);class he extends w.jG{get backgroundTokenizerShouldOnlyVerifyTokens(){return this._actual.backgroundTokenizerShouldOnlyVerifyTokens}constructor(u,o,p,b){super(),this._encodedLanguageId=u,this._actual=o,this._maxTokenizationLineLength=b,this._register((0,S.wp)(this._maxTokenizationLineLength)),this._register(p)}getInitialState(){return this._actual.getInitialState()}tokenize(u,o,p){throw new Error("Not supported!")}tokenizeEncoded(u,o,p){return u.length>=this._maxTokenizationLineLength.get()?(0,te.Lh)(this._encodedLanguageId,p):this._actual.tokenizeEncoded(u,o,p)}createBackgroundTokenizer(u,o){if(this._actual.createBackgroundTokenizer)return this._actual.createBackgroundTokenizer(u,o)}}var re=j(74411),K=j(45981),Q=j(28234),Y=j(62539),me=j(31313),E=j(17201),se=j(47310),J=j(89724),ce=j(43390),Ce=j(11398),ze=j(35502);class Re{constructor(u){this.edits=u.slice().sort((0,C.VE)(o=>o.offset,C.U9))}applyToArray(u){for(let o=this.edits.length-1;o>=0;o--){const p=this.edits[o];u.splice(p.offset,p.length,...new Array(p.newLength))}}}class we{constructor(u,o,p){this.offset=u,this.length=o,this.newLength=p}toString(){return`[${this.offset}, +${this.length}) -> +${this.newLength}}`}}class Ae{static fromMany(u){const o=u.map(p=>new Ae(p));return new De(o)}constructor(u){this.transformation=u,this.idx=0,this.offset=0}transform(u){let o=this.transformation.edits[this.idx];for(;o&&o.offset+o.length<=u;)this.offset+=o.newLength-o.length,this.idx++,o=this.transformation.edits[this.idx];if(!(o&&o.offset<=u))return u+this.offset}}class De{constructor(u){this.transformers=u}transform(u){for(const o of this.transformers){const p=o.transform(u);if(void 0===p)return;u=p}return u}}var ve=j(50704),Ge=j.t(ve,2);let xe=(()=>{class W extends w.jG{static{this._id=0}constructor(o,p,b,v,m,A){super(),this._model=o,this._worker=p,this._languageIdCodec=b,this._backgroundTokenizationStore=v,this._configurationService=m,this._maxTokenizationLineLength=A,this.controllerId=W._id++,this._pendingChanges=[],this._states=new ce.CQ,this._loggingEnabled=(0,ze.V)("editor.experimental.asyncTokenizationLogging",!1,this._configurationService),this._register((0,S.wp)(this._loggingEnabled)),this._register(this._model.onDidChangeContent(P=>{this._shouldLog&&console.log("model change",{fileName:this._model.uri.fsPath.split("\\").pop(),changes:Ie(P.changes)}),this._worker.acceptModelChanged(this.controllerId,P),this._pendingChanges.push(P)})),this._register(this._model.onDidChangeLanguage(P=>{const B=this._model.getLanguageId(),H=this._languageIdCodec.encodeLanguageId(B);this._worker.acceptModelLanguageChanged(this.controllerId,B,H)}));const O=this._model.getLanguageId(),x=this._languageIdCodec.encodeLanguageId(O);this._worker.acceptNewModel({uri:this._model.uri,versionId:this._model.getVersionId(),lines:this._model.getLinesContent(),EOL:this._model.getEOL(),languageId:O,encodedLanguageId:x,maxTokenizationLineLength:this._maxTokenizationLineLength.get(),controllerId:this.controllerId}),this._register((0,M.fm)(P=>{const B=this._maxTokenizationLineLength.read(P);this._worker.acceptMaxTokenizationLineLength(this.controllerId,B)}))}dispose(){super.dispose(),this._worker.acceptRemovedModel(this.controllerId)}requestTokens(o,p){this._worker.retokenize(this.controllerId,o,p)}setTokensAndStates(o,p,b,v){var m=this;return(0,ae.A)(function*(){if(m.controllerId!==o)return;let A=Ce.Z.deserialize(new Uint8Array(b));if(m._shouldLog&&console.log("received background tokenization result",{fileName:m._model.uri.fsPath.split("\\").pop(),updatedTokenLines:A.map(x=>x.getLineRange()).join(" & "),updatedStateLines:v.map(x=>new se.M(x.startLineNumber,x.startLineNumber+x.stateDeltas.length).toString()).join(" & ")}),m._shouldLog){const x=m._pendingChanges.filter(P=>P.versionId<=p).map(P=>P.changes).map(P=>Ie(P)).join(" then ");console.log("Applying changes to local states",x)}for(;m._pendingChanges.length>0&&m._pendingChanges[0].versionId<=p;){const x=m._pendingChanges.shift();m._states.acceptChanges(x.changes)}if(m._pendingChanges.length>0){if(m._shouldLog){const B=m._pendingChanges.map(H=>H.changes).map(H=>Ie(H)).join(" then ");console.log("Considering non-processed changes",B)}const x=Ae.fromMany(m._pendingChanges.map(B=>_e(B.changes))),P=new Ce.Z;for(const B of A)for(let H=B.startLineNumber;H<=B.endLineNumber;H++)void 0!==x.transform(H-1)&&P.add(H,B.getLineTokens(H));A=P.finalize();for(const B of m._pendingChanges)for(const H of B.changes)for(let ie=0;ie<A.length;ie++)A[ie].applyEdit(H.range,H.text)}const O=Ae.fromMany(m._pendingChanges.map(x=>_e(x.changes)));(!m._applyStateStackDiffFn||!m._initialState)&&(m._applyStateStackDiffFn=ve.applyStateStackDiff,m._initialState=ve.INITIAL);for(const x of v){let P=x.startLineNumber<=1?m._initialState:m._states.getEndState(x.startLineNumber-1);for(let B=0;B<x.stateDeltas.length;B++){const H=x.stateDeltas[B];let ie;H?(ie=m._applyStateStackDiffFn(P,H),m._states.setEndState(x.startLineNumber+B,ie)):ie=m._states.getEndState(x.startLineNumber+B);const de=O.transform(x.startLineNumber+B-1);void 0!==de&&m._backgroundTokenizationStore.setEndState(de+1,ie),x.startLineNumber+B>=m._model.getLineCount()-1&&m._backgroundTokenizationStore.backgroundTokenizationFinished(),P=ie}}m._backgroundTokenizationStore.setTokens(A)})()}get _shouldLog(){return this._loggingEnabled.get()}}return W})();function _e(W){return new Re(W.map(u=>new we(u.range.startLineNumber-1,u.range.endLineNumber-u.range.startLineNumber+1,(0,E.W)(u.text)[0]+1)))}function Ie(W){return W.map(u=>J.Q.lift(u.range).toString()+" => "+u.text).join(" & ")}var Pe;let Fe=class{static{Pe=this}static{this._reportedMismatchingTokens=!1}constructor(u,o,p,b,v,m,A,O,x,P){this._reportTokenizationTime=u,this._shouldTokenizeAsync=o,this._extensionResourceLoaderService=p,this._modelService=b,this._languageConfigurationService=v,this._configurationService=m,this._languageService=A,this._environmentService=O,this._notificationService=x,this._telemetryService=P,this._workerProxyPromise=null,this._worker=null,this._workerProxy=null,this._workerTokenizerControllers=new Map,this._currentTheme=null,this._currentTokenColorMap=null,this._grammarDefinitions=[]}dispose(){this._disposeWorker()}createBackgroundTokenizer(u,o,p){var b=this;if(!this._shouldTokenizeAsync()||u.isTooLargeForSyncing())return;const v=new w.Cm,m=this._getWorkerProxy().then(A=>{if(v.isDisposed||!A)return;const O={controller:void 0,worker:this._worker};return v.add(function Le(W,u){const o=new w.Cm,p=o.add(new w.Cm);function b(){W.isAttachedToEditor()?p.add(u()):p.clear()}return b(),o.add(W.onDidChangeAttached(()=>{b()})),o}(u,()=>{const x=new xe(u,A,this._languageService.languageIdCodec,o,this._configurationService,p);return O.controller=x,this._workerTokenizerControllers.set(x.controllerId,x),(0,w.s)(()=>{O.controller=void 0,this._workerTokenizerControllers.delete(x.controllerId),x.dispose()})})),O});return{dispose(){v.dispose()},requestTokens:(A=(0,ae.A)(function*(O,x){const P=yield m;P?.controller&&P.worker===b._worker&&P.controller.requestTokens(O,x)}),function(x,P){return A.apply(this,arguments)}),reportMismatchingTokens:A=>{Pe._reportedMismatchingTokens||(Pe._reportedMismatchingTokens=!0,this._notificationService.error({message:"Async Tokenization Token Mismatch in line "+A,name:"Async Tokenization Token Mismatch"}),this._telemetryService.publicLog2("asyncTokenizationMismatchingTokens",{}))}};var A}setGrammarDefinitions(u){this._grammarDefinitions=u,this._disposeWorker()}acceptTheme(u,o){this._currentTheme=u,this._currentTokenColorMap=o,this._currentTheme&&this._currentTokenColorMap&&this._workerProxy&&this._workerProxy.acceptTheme(this._currentTheme,this._currentTokenColorMap)}_getWorkerProxy(){return this._workerProxyPromise||(this._workerProxyPromise=this._createWorkerProxy()),this._workerProxyPromise}_createWorkerProxy(){var u=this;return(0,ae.A)(function*(){const o=`${f.dy}/vscode-textmate`,p=`${f.Qq}/vscode-textmate`,b=`${f.dy}/vscode-oniguruma`,v=`${f.Qq}/vscode-oniguruma`,m=u._environmentService.isBuilt&&!T.HZ,O=m?v:b,P=`${O}/release/main.js`,B=`${O}/release/onig.wasm`,H=f.zl.asBrowserUri(`${m?p:o}/release/main.js`).toString(!0),ie={grammarDefinitions:u._grammarDefinitions,textmateMainUri:H,onigurumaMainUri:f.zl.asBrowserUri(P).toString(!0),onigurumaWASMUri:f.zl.asBrowserUri(B).toString(!0)},de={readFile:(ue=(0,ae.A)(function*(oe){const ye=re.rz.revive(oe);return u._extensionResourceLoaderService.readExtensionResource(ye)}),function(ye){return ue.apply(this,arguments)}),setTokensAndStates:function(){var ue=(0,ae.A)(function*(oe,ye,be,Ne){const Oe=u._workerTokenizerControllers.get(oe);Oe&&Oe.setTokensAndStates(oe,ye,be,Ne)});return function(ye,be,Ne,Oe){return ue.apply(this,arguments)}}(),reportTokenizationTime:(ue,oe,ye,be,Ne)=>{u._reportTokenizationTime(ue,oe,ye,be,Ne)}},ke=u._worker=(0,K.V)(u._modelService,u._languageConfigurationService,{createData:ie,label:"textMateWorker",moduleId:"vs/workbench/services/textMate/browser/backgroundTokenization/worker/textMateTokenizationWorker.worker",host:de}),Se=yield ke.getProxy();var ue;return u._worker!==ke?null:(u._workerProxy=Se,u._currentTheme&&u._currentTokenColorMap&&u._workerProxy.acceptTheme(u._currentTheme,u._currentTokenColorMap),Se)})()}_disposeWorker(){for(const u of this._workerTokenizerControllers.values())u.dispose();this._workerTokenizerControllers.clear(),this._worker&&(this._worker.dispose(),this._worker=null),this._workerProxy=null,this._workerProxyPromise=null}};Fe=Pe=(0,i.C)([(0,i.Q)(2,t.j),(0,i.Q)(3,Y.S),(0,i.Q)(4,Q.JZ),(0,i.Q)(5,r.p),(0,i.Q)(6,a.L),(0,i.Q)(7,me.k),(0,i.Q)(8,k.O),(0,i.Q)(9,z.k)],Fe);class We{constructor(){this._scopeNameToLanguageRegistration=Object.create(null)}reset(){this._scopeNameToLanguageRegistration=Object.create(null)}register(u){this._scopeNameToLanguageRegistration[u.scopeName]=u}getGrammarDefinition(u){return this._scopeNameToLanguageRegistration[u]||null}}const Me="No TM Grammar registered for this language.";class G extends w.jG{constructor(u,o,p,b){var v,m;super(),v=this,this._host=u,this._initialState=p.INITIAL,this._scopeRegistry=new We,this._injections={},this._injectedEmbeddedLanguages={},this._languageToScope=new Map,this._grammarRegistry=this._register(new p.Registry({onigLib:b,loadGrammar:(m=(0,ae.A)(function*(A){const O=v._scopeRegistry.getGrammarDefinition(A);if(!O)return v._host.logTrace(`No grammar found for scope ${A}`),null;const x=O.location;try{const P=yield v._host.readFile(x);return p.parseRawGrammar(P,x.path)}catch(P){return v._host.logError(`Unable to load and parse grammar for scope ${A} from ${x}`,P),null}}),function(O){return m.apply(this,arguments)}),getInjections:m=>{const A=m.split(".");let O=[];for(let x=1;x<=A.length;x++){const P=A.slice(0,x).join(".");O=[...O,...this._injections[P]||[]]}return O}}));for(const m of o){if(this._scopeRegistry.register(m),m.injectTo){for(const A of m.injectTo){let O=this._injections[A];O||(this._injections[A]=O=[]),O.push(m.scopeName)}if(m.embeddedLanguages)for(const A of m.injectTo){let O=this._injectedEmbeddedLanguages[A];O||(this._injectedEmbeddedLanguages[A]=O=[]),O.push(m.embeddedLanguages)}}m.language&&this._languageToScope.set(m.language,m.scopeName)}}has(u){return this._languageToScope.has(u)}setTheme(u,o){this._grammarRegistry.setTheme(u,o)}getColorMap(){return this._grammarRegistry.getColorMap()}createGrammar(u,o){var p=this;return(0,ae.A)(function*(){const b=p._languageToScope.get(u);if("string"!=typeof b)throw new Error(Me);const v=p._scopeRegistry.getGrammarDefinition(b);if(!v)throw new Error(Me);const m=v.embeddedLanguages;if(p._injectedEmbeddedLanguages[b]){const x=p._injectedEmbeddedLanguages[b];for(const P of x)for(const B of Object.keys(P))m[B]=P[B]}const A=Object.keys(m).length>0;let O;try{O=yield p._grammarRegistry.loadGrammarWithConfiguration(b,o,{embeddedLanguages:m,tokenTypes:v.tokenTypes,balancedBracketSelectors:v.balancedBracketSelectors,unbalancedBracketSelectors:v.unbalancedBracketSelectors})}catch(x){throw x.message&&x.message.startsWith("No grammar provided for")?new Error(Me):x}return{languageId:u,grammar:O,initialState:p._initialState,containsEmbeddedLanguages:A,sourceExtensionId:v.sourceExtensionId}})()}}var $=j(43771),le=j(83408);const ge=$.g1.registerExtensionPoint({extensionPoint:"grammars",deps:[le.b],jsonSchema:{description:(0,n.kg)(6178,"Contributes textmate tokenizers."),type:"array",defaultSnippets:[{body:[{language:"${1:id}",scopeName:"source.${2:id}",path:"./syntaxes/${3:id}.tmLanguage."}]}],items:{type:"object",defaultSnippets:[{body:{language:"${1:id}",scopeName:"source.${2:id}",path:"./syntaxes/${3:id}.tmLanguage."}}],properties:{language:{description:(0,n.kg)(6179,"Language identifier for which this syntax is contributed to."),type:"string"},scopeName:{description:(0,n.kg)(6180,"Textmate scope name used by the tmLanguage file."),type:"string"},path:{description:(0,n.kg)(6181,"Path of the tmLanguage file. The path is relative to the extension folder and typically starts with './syntaxes/'."),type:"string"},embeddedLanguages:{description:(0,n.kg)(6182,"A map of scope name to language id if this grammar contains embedded languages."),type:"object"},tokenTypes:{description:(0,n.kg)(6183,"A map of scope name to token types."),type:"object",additionalProperties:{enum:["string","comment","other"]}},injectTo:{description:(0,n.kg)(6184,"List of language scope names to which this grammar is injected to."),type:"array",items:{type:"string"}},balancedBracketScopes:{description:(0,n.kg)(6185,"Defines which scope names contain balanced brackets."),type:"array",items:{type:"string"},default:["*"]},unbalancedBracketScopes:{description:(0,n.kg)(6186,"Defines which scope names do not contain balanced brackets."),type:"array",items:{type:"string"},default:[]}},required:["scopeName","path"]}}});var Te,q=j(81905),ne=j(15577),fe=j.t(ne,2);let Ee=class extends w.jG{static{Te=this}static{this.reportTokenizationTimeCounter={sync:0,async:0}}constructor(u,o,p,b,v,m,A,O,x,P){super(),this._languageService=u,this._themeService=o,this._extensionResourceLoaderService=p,this._notificationService=b,this._logService=v,this._configurationService=m,this._progressService=A,this._environmentService=O,this._instantiationService=x,this._telemetryService=P,this._createdModes=[],this._encounteredLanguages=[],this._debugMode=!1,this._debugModePrintFunc=()=>{},this._grammarDefinitions=null,this._grammarFactory=null,this._tokenizersRegistrations=new w.Cm,this._currentTheme=null,this._currentTokenColorMap=null,this._threadedBackgroundTokenizerFactory=this._instantiationService.createInstance(Fe,(B,H,ie,de,ke)=>this._reportTokenizationTime(B,H,ie,de,!0,ke),()=>this.getAsyncTokenizationEnabled()),this._vscodeOniguruma=null,this._styleElement=(0,R.li)(),this._styleElement.className="vscode-tokens-styles",ge.setHandler(B=>this._handleGrammarsExtPoint(B)),this._updateTheme(this._themeService.getColorTheme(),!0),this._register(this._themeService.onDidColorThemeChange(()=>{this._updateTheme(this._themeService.getColorTheme(),!1)})),this._register(this._languageService.onDidRequestRichLanguageFeatures(B=>{this._createdModes.push(B)}))}getAsyncTokenizationEnabled(){return!!this._configurationService.getValue("editor.experimental.asyncTokenization")}getAsyncTokenizationVerification(){return!!this._configurationService.getValue("editor.experimental.asyncTokenizationVerification")}_handleGrammarsExtPoint(u){this._grammarDefinitions=null,this._grammarFactory&&(this._grammarFactory.dispose(),this._grammarFactory=null),this._tokenizersRegistrations.clear(),this._grammarDefinitions=[];for(const o of u){const p=o.value;for(const b of p){const v=this._validateGrammarDefinition(o,b);if(v&&(this._grammarDefinitions.push(v),v.language)){const m=new _.v_(()=>this._createTokenizationSupport(v.language));this._tokenizersRegistrations.add(m),this._tokenizersRegistrations.add(_.dG.registerFactory(v.language,m))}}}this._threadedBackgroundTokenizerFactory.setGrammarDefinitions(this._grammarDefinitions);for(const o of this._createdModes)_.dG.getOrCreate(o)}_validateGrammarDefinition(u,o){if(!function at(W,u,o,p){if(u.language&&("string"!=typeof u.language||!p.isRegisteredLanguageId(u.language)))return o.error((0,n.kg)(2774,"Unknown language in `contributes.{0}.language`. Provided value: {1}",ge.name,String(u.language))),!1;if(!u.scopeName||"string"!=typeof u.scopeName)return o.error((0,n.kg)(2775,"Expected string in `contributes.{0}.scopeName`. Provided value: {1}",ge.name,String(u.scopeName))),!1;if(!u.path||"string"!=typeof u.path)return o.error((0,n.kg)(2776,"Expected string in `contributes.{0}.path`. Provided value: {1}",ge.name,String(u.path))),!1;if(u.injectTo&&(!Array.isArray(u.injectTo)||u.injectTo.some(v=>"string"!=typeof v)))return o.error((0,n.kg)(2777,"Invalid value in `contributes.{0}.injectTo`. Must be an array of language scope names. Provided value: {1}",ge.name,JSON.stringify(u.injectTo))),!1;if(u.embeddedLanguages&&!(0,c.Gv)(u.embeddedLanguages))return o.error((0,n.kg)(2778,"Invalid value in `contributes.{0}.embeddedLanguages`. Must be an object map from scope name to language. Provided value: {1}",ge.name,JSON.stringify(u.embeddedLanguages))),!1;if(u.tokenTypes&&!(0,c.Gv)(u.tokenTypes))return o.error((0,n.kg)(2779,"Invalid value in `contributes.{0}.tokenTypes`. Must be an object map from scope name to token type. Provided value: {1}",ge.name,JSON.stringify(u.tokenTypes))),!1;const b=(0,g.uJ)(W,u.path);return(0,g._1)(b,W)||o.warn((0,n.kg)(2780,"Expected `contributes.{0}.path` ({1}) to be included inside extension's folder ({2}). This might make the extension non-portable.",ge.name,b.path,W.path)),!0}(u.description.extensionLocation,o,u.collector,this._languageService))return null;const p=(0,g.uJ)(u.description.extensionLocation,o.path),b=Object.create(null);if(o.embeddedLanguages){const O=Object.keys(o.embeddedLanguages);for(let x=0,P=O.length;x<P;x++){const B=O[x],H=o.embeddedLanguages[B];"string"==typeof H&&this._languageService.isRegisteredLanguageId(H)&&(b[B]=this._languageService.languageIdCodec.encodeLanguageId(H))}}const v=Object.create(null);if(o.tokenTypes){const O=Object.keys(o.tokenTypes);for(const x of O)switch(o.tokenTypes[x]){case"string":v[x]=d.Vy.String;break;case"other":v[x]=d.Vy.Other;break;case"comment":v[x]=d.Vy.Comment}}function A(O,x){return Array.isArray(O)&&O.every(P=>"string"==typeof P)?O:x}return{location:p,language:o.language&&this._languageService.isRegisteredLanguageId(o.language)?o.language:void 0,scopeName:o.scopeName,embeddedLanguages:b,tokenTypes:v,injectTo:o.injectTo,balancedBracketSelectors:A(o.balancedBracketScopes,["*"]),unbalancedBracketSelectors:A(o.unbalancedBracketScopes,[]),sourceExtensionId:u.description.id}}startDebugMode(u,o){this._debugMode?this._notificationService.error((0,n.kg)(2770,"Already Logging.")):(this._debugModePrintFunc=u,this._debugMode=!0,this._debugMode&&this._progressService.withProgress({location:I.Nq.Notification,buttons:[(0,n.kg)(2771,"Stop")]},p=>(p.report({message:(0,n.kg)(2772,"Preparing to log TM Grammar parsing. Press Stop when finished.")}),this._getVSCodeOniguruma().then(b=>(b.setDefaultDebugCall(!0),p.report({message:(0,n.kg)(2773,"Now logging TM Grammar parsing. Press Stop when finished.")}),new Promise((v,m)=>{})))),p=>{this._getVSCodeOniguruma().then(b=>{this._debugModePrintFunc=()=>{},this._debugMode=!1,b.setDefaultDebugCall(!1),o()})}))}_canCreateGrammarFactory(){return!!this._grammarDefinitions}_getOrCreateGrammarFactory(){var u=this;return(0,ae.A)(function*(){if(u._grammarFactory)return u._grammarFactory;const o=yield u._getVSCodeOniguruma(),p=Promise.resolve({createOnigScanner:b=>o.createOnigScanner(b),createOnigString:b=>o.createOnigString(b)});return u._grammarFactory||(u._grammarFactory=new G({logTrace:b=>u._logService.trace(b),logError:(b,v)=>u._logService.error(b,v),readFile:b=>u._extensionResourceLoaderService.readExtensionResource(b)},u._grammarDefinitions||[],Ge,p),u._updateTheme(u._themeService.getColorTheme(),!0)),u._grammarFactory})()}_createTokenizationSupport(u){var o=this;return(0,ae.A)(function*(){if(!o._languageService.isRegisteredLanguageId(u)||!o._canCreateGrammarFactory())return null;try{const p=yield o._getOrCreateGrammarFactory();if(!p.has(u))return null;const b=o._languageService.languageIdCodec.encodeLanguageId(u),v=yield p.createGrammar(u,b);if(!v.grammar)return null;const m=function ct(W,u,o,p){return(0,S.y0)(b=>p.onDidChangeConfiguration(v=>{v.affectsConfiguration(W,{overrideIdentifier:u})&&b(v)}),()=>p.getValue(W,{overrideIdentifier:u})??o)}("editor.maxTokenizationLineLength",u,-1,o._configurationService),A=new V(v.grammar,v.initialState,v.containsEmbeddedLanguages,(x,P)=>o._threadedBackgroundTokenizerFactory.createBackgroundTokenizer(x,P,m),()=>o.getAsyncTokenizationVerification(),(x,P,B)=>{o._reportTokenizationTime(x,u,v.sourceExtensionId,P,!1,B)},!0),O=A.onDidEncounterLanguage(x=>{if(!o._encounteredLanguages[x]){const P=o._languageService.languageIdCodec.decodeLanguageId(x);o._encounteredLanguages[x]=!0,o._languageService.requestBasicLanguageFeatures(P)}});return new he(b,A,O,m)}catch(p){return p.message&&p.message===Me||(0,s.dz)(p),null}})()}_updateTheme(u,o){if(!o&&this._currentTheme&&this._currentTokenColorMap&&function ot(W,u){if(!u||!W||u.length!==W.length)return!1;for(let o=u.length-1;o>=0;o--){const p=u[o],b=W[o];if(p.scope!==b.scope)return!1;const v=p.settings,m=b.settings;if(v&&m){if(v.fontStyle!==m.fontStyle||v.foreground!==m.foreground||v.background!==m.background)return!1}else if(!v||!m)return!1}return!0}(this._currentTheme.settings,u.tokenColors)&&(0,C.aI)(this._currentTokenColorMap,u.tokenColorMap))return;this._currentTheme={name:u.label,settings:u.tokenColors},this._currentTokenColorMap=u.tokenColorMap,this._grammarFactory?.setTheme(this._currentTheme,this._currentTokenColorMap);const p=function Je(W){const u=[null];for(let o=1,p=W.length;o<p;o++)u[o]=N.Q1.fromHex(W[o]);return u}(this._currentTokenColorMap),b=(0,e.nh)(p);this._styleElement.textContent=b,_.dG.setColorMap(p),this._currentTheme&&this._currentTokenColorMap&&this._threadedBackgroundTokenizerFactory.acceptTheme(this._currentTheme,this._currentTokenColorMap)}createTokenizer(u){var o=this;return(0,ae.A)(function*(){if(!o._languageService.isRegisteredLanguageId(u))return null;const p=yield o._getOrCreateGrammarFactory();if(!p.has(u))return null;const b=o._languageService.languageIdCodec.encodeLanguageId(u),{grammar:v}=yield p.createGrammar(u,b);return v})()}_getVSCodeOniguruma(){var u=this;return this._vscodeOniguruma||(this._vscodeOniguruma=(0,ae.A)(function*(){const o=yield u._loadVSCodeOnigurumaWASM();return yield ne.loadWASM({data:o,print:p=>{u._debugModePrintFunc(p)}}),fe})()),this._vscodeOniguruma}_loadVSCodeOnigurumaWASM(){var u=this;return(0,ae.A)(function*(){return T.HZ?yield(yield fetch(f.zl.asBrowserUri("vscode-oniguruma/../onig.wasm").toString(!0))).arrayBuffer():yield fetch(u._environmentService.isBuilt?f.zl.asBrowserUri(`${f.NM}/vscode-oniguruma/release/onig.wasm`).toString(!0):f.zl.asBrowserUri(`${f.dy}/vscode-oniguruma/release/onig.wasm`).toString(!0))})()}_reportTokenizationTime(u,o,p,b,v,m){const A=v?"async":"sync";Te.reportTokenizationTimeCounter[A]>50||(0===Te.reportTokenizationTimeCounter[A]&&setTimeout(()=>{Te.reportTokenizationTimeCounter[A]=0},36e5),Te.reportTokenizationTimeCounter[A]++,this._telemetryService.publicLog2("editor.tokenizedLine",{timeMs:u,languageId:o,lineLength:b,fromWorker:v,sourceExtensionId:p,isRandomSample:m,tokenizationSetting:this.getAsyncTokenizationEnabled()?this.getAsyncTokenizationVerification()?2:1:0}))}};Ee=Te=(0,i.C)([(0,i.Q)(0,a.L),(0,i.Q)(1,q.t),(0,i.Q)(2,t.j),(0,i.Q)(3,k.O),(0,i.Q)(4,h.r),(0,i.Q)(5,r.p),(0,i.Q)(6,D.G),(0,i.Q)(7,U.P),(0,i.Q)(8,l._Y),(0,i.Q)(9,z.k)],Ee);var ut=j(19980),lt=j(9065),ht=j(84025),dt=j(48996),$e=j(24955),et=j(10726);const Be=(0,$e.FZ)(),gt=$.g1.registerExtensionPoint({extensionPoint:"semanticTokenTypes",jsonSchema:{description:(0,n.kg)(2781,"Contributes semantic token types."),type:"array",items:{type:"object",properties:{id:{type:"string",description:(0,n.kg)(2782,"The identifier of the semantic token type"),pattern:$e.GE,patternErrorMessage:(0,n.kg)(2783,"Identifiers should be in the form letterOrDigit[_-letterOrDigit]*")},superType:{type:"string",description:(0,n.kg)(2784,"The super type of the semantic token type"),pattern:$e.GE,patternErrorMessage:(0,n.kg)(2785,"Super types should be in the form letterOrDigit[_-letterOrDigit]*")},description:{type:"string",description:(0,n.kg)(2786,"The description of the semantic token type")}}}}}),ft=$.g1.registerExtensionPoint({extensionPoint:"semanticTokenModifiers",jsonSchema:{description:(0,n.kg)(2787,"Contributes semantic token modifiers."),type:"array",items:{type:"object",properties:{id:{type:"string",description:(0,n.kg)(2788,"The identifier of the semantic token modifier"),pattern:$e.GE,patternErrorMessage:(0,n.kg)(2789,"Identifiers should be in the form letterOrDigit[_-letterOrDigit]*")},description:{type:"string",description:(0,n.kg)(2790,"The description of the semantic token modifier")}}}}}),pt=$.g1.registerExtensionPoint({extensionPoint:"semanticTokenScopes",jsonSchema:{description:(0,n.kg)(2791,"Contributes semantic token scope maps."),type:"array",items:{type:"object",properties:{language:{description:(0,n.kg)(2792,"Lists the languge for which the defaults are."),type:"string"},scopes:{description:(0,n.kg)(2793,"Maps a semantic token (described by semantic token selector) to one or more textMate scopes used to represent that token."),type:"object",additionalProperties:{type:"array",items:{type:"string"}}}}}}});class mt{constructor(){function u(o,p,b){if("string"!=typeof o.id||0===o.id.length)return b.error((0,n.kg)(2794,"'configuration.{0}.id' must be defined and can not be empty",p)),!1;if(!o.id.match($e.GE))return b.error((0,n.kg)(2795,"'configuration.{0}.id' must follow the pattern letterOrDigit[-_letterOrDigit]*",p)),!1;const v=o.superType;return v&&!v.match($e.GE)?(b.error((0,n.kg)(2796,"'configuration.{0}.superType' must follow the pattern letterOrDigit[-_letterOrDigit]*",p)),!1):"string"==typeof o.description&&0!==o.id.length||(b.error((0,n.kg)(2797,"'configuration.{0}.description' must be defined and can not be empty",p)),!1)}gt.setHandler((o,p)=>{for(const b of p.added){const v=b.value,m=b.collector;if(!v||!Array.isArray(v))return void m.error((0,n.kg)(2798,"'configuration.semanticTokenType' must be an array"));for(const A of v)u(A,"semanticTokenType",m)&&Be.registerTokenType(A.id,A.description,A.superType)}for(const b of p.removed){const v=b.value;for(const m of v)Be.deregisterTokenType(m.id)}}),ft.setHandler((o,p)=>{for(const b of p.added){const v=b.value,m=b.collector;if(!v||!Array.isArray(v))return void m.error((0,n.kg)(2799,"'configuration.semanticTokenModifier' must be an array"));for(const A of v)u(A,"semanticTokenModifier",m)&&Be.registerTokenModifier(A.id,A.description)}for(const b of p.removed){const v=b.value;for(const m of v)Be.deregisterTokenModifier(m.id)}}),pt.setHandler((o,p)=>{for(const b of p.added){const v=b.value,m=b.collector;if(!v||!Array.isArray(v))return void m.error((0,n.kg)(2800,"'configuration.semanticTokenScopes' must be an array"));for(const A of v)if(A.language&&"string"!=typeof A.language)m.error((0,n.kg)(2801,"'configuration.semanticTokenScopes.language' must be a string"));else if(A.scopes&&"object"==typeof A.scopes)for(const O in A.scopes){const x=A.scopes[O];if(Array.isArray(x)&&!x.some(P=>"string"!=typeof P))try{const P=Be.parseTokenSelector(O,A.language);Be.registerTokenStyleDefault(P,{scopesToProbe:x.map(B=>B.split(" "))})}catch{m.error((0,n.kg)(2804,"configuration.semanticTokenScopes.scopes': Problems parsing selector {0}.",O))}else m.error((0,n.kg)(2803,"'configuration.semanticTokenScopes.scopes' values must be an array of strings"))}else m.error((0,n.kg)(2802,"'configuration.semanticTokenScopes.scopes' must be defined as an object"))}for(const b of p.removed){const v=b.value;for(const m of v)for(const A in m.scopes){const O=m.scopes[A];try{const x=Be.parseTokenSelector(A,m.language);Be.registerTokenStyleDefault(x,{scopesToProbe:O.map(P=>P.split(" "))})}catch{}}}})}}let Ke=class{static{this.ID="workbench.contrib.tokenClassificationExtensionPoint"}constructor(u){this.instantiationService=u,this.instantiationService.createInstance(mt)}};Ke=(0,i.C)([(0,i.Q)(0,l._Y)],Ke),(0,et.tr)(Ke.ID,Ke,et.lw.BlockStartup),(0,j(96462).A)(".token-inspect-widget{border:1px solid var(--vscode-editorHoverWidget-border);padding:10px;user-select:text;-webkit-user-select:text;z-index:50}.hc-black .tokens-inspect-widget,.hc-light .tokens-inspect-widget{border-width:2px}.monaco-editor .token-inspect-widget{background-color:var(--vscode-editorHoverWidget-background)}.monaco-editor .token-inspect-widget .tiw-metadata-separator{background-color:var(--vscode-editorHoverWidget-border)}.tiw-token{font-family:var(--monaco-monospace-font)}.tiw-metadata-separator{border:0;height:1px}.tiw-token-length{float:right;font-size:60%;font-weight:400}.tiw-metadata-table{width:100%}.tiw-metadata-value{font-family:var(--monaco-monospace-font);word-break:break-word}.tiw-metadata-values{list-style:none;margin-right:-10px;max-height:300px;overflow-y:auto;padding-left:0}.tiw-metadata-values>.tiw-metadata-value{margin-right:10px}.tiw-metadata-key{min-width:150px;padding-right:10px;vertical-align:top;white-space:nowrap;width:1px}.tiw-metadata-semantic{font-style:italic}.tiw-metadata-scopes{line-height:normal}.tiw-theme-selector{font-family:var(--monaco-monospace-font)}",{});var tt=j(24968),kt=j(89042),nt=j(80251),Ye=j(88241);function bt(W,u,o,p){let b=null;for(let v=W.tokenColors.length-1;v>=0;v--){const m=W.tokenColors[v];if(p&&!m.settings.foreground)continue;let A;if("string"==typeof m.scope)A=m.scope.split(/,/).map(O=>O.trim());else{if(!Array.isArray(m.scope))continue;A=m.scope}for(let O=0,x=A.length;O<x;O++){const B=new Ze(A[O],m.settings);B.matches(u,o)&&B.isMoreSpecific(b)&&(b=B)}}return b}class Ze{constructor(u,o){this.rawSelector=u,this.settings=o;const p=this.rawSelector.split(/ /);this.scope=p[p.length-1],this.parentScopes=p.slice(0,p.length-1)}matches(u,o){return Ze._matches(this.scope,this.parentScopes,u,o)}static _cmp(u,o){if(null===u&&null===o)return 0;if(null===u)return-1;if(null===o)return 1;if(u.scope.length!==o.scope.length)return u.scope.length-o.scope.length;const p=u.parentScopes.length,b=o.parentScopes.length;if(p!==b)return p-b;for(let v=0;v<p;v++){const m=u.parentScopes[v].length,A=o.parentScopes[v].length;if(m!==A)return m-A}return 0}isMoreSpecific(u){return Ze._cmp(this,u)>0}static _matchesOne(u,o){const p=u+".";return u===o||o.substring(0,p.length)===p}static _matches(u,o,p,b){if(!this._matchesOne(u,p))return!1;let v=o.length-1,m=b.length-1;for(;v>=0&&m>=0;)this._matchesOne(o[v],b[m])&&v--,m--;return-1===v}}var Xe,vt=j(4038),Tt=j(50713);const F=R.$;let Ue=class extends w.jG{static{Xe=this}static{this.ID="editor.contrib.inspectEditorTokens"}static get(u){return u.getContribution(Xe.ID)}constructor(u,o,p,b,v,m,A){super(),this._editor=u,this._textMateService=o,this._themeService=b,this._languageService=p,this._notificationService=v,this._configurationService=m,this._languageFeaturesService=A,this._widget=null,this._register(this._editor.onDidChangeModel(O=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(O=>this.stop())),this._register(this._editor.onKeyUp(O=>O.keyCode===kt.DD.Escape&&this.stop()))}dispose(){this.stop(),super.dispose()}launch(){this._widget||this._editor.hasModel()&&this._editor.getModel().uri.scheme!==f.ny.vscodeNotebookCell&&(this._widget=new wt(this._editor,this._textMateService,this._languageService,this._themeService,this._notificationService,this._configurationService,this._languageFeaturesService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}toggle(){this._widget?this.stop():this.launch()}};function rt(W){W.length>40&&(W=W.substr(0,20)+"\u2026"+W.substr(W.length-20));let u="";for(let o=0,p=W.length;o<p;o++){const b=W.charCodeAt(o);switch(b){case tt.s.Tab:u+="\u2192";break;case tt.s.Space:u+="\xb7";break;default:u+=String.fromCharCode(b)}}return u}Ue=Xe=(0,i.C)([(0,i.Q)(1,pe.S),(0,i.Q)(2,a.L),(0,i.Q)(3,q.t),(0,i.Q)(4,k.O),(0,i.Q)(5,r.p),(0,i.Q)(6,Tt.u)],Ue);let wt=(()=>{class W extends w.jG{static{this._ID="editor.contrib.inspectEditorTokensWidget"}constructor(o,p,b,v,m,A,O){super(),this.allowEditorOverflow=!0,this._isDisposed=!1,this._editor=o,this._languageService=b,this._themeService=v,this._textMateService=p,this._notificationService=m,this._configurationService=A,this._languageFeaturesService=O,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="token-inspect-widget",this._currentRequestCancellationTokenSource=new L.Qi,this._beginCompute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(x=>this._beginCompute(this._editor.getPosition()))),this._register(v.onDidColorThemeChange(x=>this._beginCompute(this._editor.getPosition()))),this._register(A.onDidChangeConfiguration(x=>x.affectsConfiguration("editor.semanticHighlighting.enabled")&&this._beginCompute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._isDisposed=!0,this._editor.removeContentWidget(this),this._currentRequestCancellationTokenSource.cancel(),super.dispose()}getId(){return W._ID}_beginCompute(o){const p=this._textMateService.createTokenizer(this._model.getLanguageId()),b=this._computeSemanticTokens(o);(0,R.w_)(this._domNode),this._domNode.appendChild(document.createTextNode((0,n.kg)(2806,"Loading..."))),Promise.all([p,b]).then(([v,m])=>{this._isDisposed||(this._compute(v,m,o),this._domNode.style.maxWidth=`${Math.max(.66*this._editor.getLayoutInfo().width,500)}px`,this._editor.layoutContentWidget(this))},v=>{this._notificationService.warn(v),setTimeout(()=>{Ue.get(this._editor)?.stop()})})}_isSemanticColoringEnabled(){const o=this._configurationService.getValue(vt.r,{overrideIdentifier:this._model.getLanguageId(),resource:this._model.uri})?.enabled;return"boolean"==typeof o?o:this._themeService.getColorTheme().semanticHighlighting}_compute(o,p,b){const v=o&&this._getTokensAtPosition(o,b),m=p&&this._getSemanticTokenAtPosition(p,b);if(!v&&!m)return void(0,R.Ln)(this._domNode,"No grammar or semantic tokens available.");const A=v?.metadata,O=m?.metadata,x=m&&rt(this._model.getValueInRange(m.range)),P=v&&rt(this._model.getLineContent(b.lineNumber).substring(v.token.startIndex,v.token.endIndex)),B=x||P||"";if((0,R.Ln)(this._domNode,F("h2.tiw-token",void 0,B,F("span.tiw-token-length",void 0,`${B.length} ${1===B.length?"char":"chars"}`))),(0,R.BC)(this._domNode,F("hr.tiw-metadata-separator",{style:"clear:both"})),(0,R.BC)(this._domNode,F("table.tiw-metadata-table",void 0,F("tbody",void 0,F("tr",void 0,F("td.tiw-metadata-key",void 0,"language"),F("td.tiw-metadata-value",void 0,A?.languageId||"")),F("tr",void 0,F("td.tiw-metadata-key",void 0,"standard token type"),F("td.tiw-metadata-value",void 0,this._tokenTypeToString(A?.tokenType||d.Vy.Other))),...this._formatMetadata(O,A)))),m){(0,R.BC)(this._domNode,F("hr.tiw-metadata-separator"));const H=(0,R.BC)(this._domNode,F("table.tiw-metadata-table",void 0)),ie=(0,R.BC)(H,F("tbody",void 0,F("tr",void 0,F("td.tiw-metadata-key",void 0,"semantic token type"),F("td.tiw-metadata-value",void 0,m.type))));if(m.modifiers.length&&(0,R.BC)(ie,F("tr",void 0,F("td.tiw-metadata-key",void 0,"modifiers"),F("td.tiw-metadata-value",void 0,m.modifiers.join(" ")))),m.metadata){const de=["foreground","bold","italic","underline","strikethrough"],ke={},Se=new Array;for(const ue of de)if(void 0!==m.metadata[ue]){const ye=this._renderTokenStyleDefinition(m.definitions[ue],ue),be=ye.map(Oe=>(0,R.sb)(Oe)?Oe.outerHTML:Oe).join();let Ne=ke[be];Ne||(ke[be]=Ne=[],Se.push([ye,be])),Ne.push(ue)}for(const[ue,oe]of Se)(0,R.BC)(ie,F("tr",void 0,F("td.tiw-metadata-key",void 0,ke[oe].join(", ")),F("td.tiw-metadata-value",void 0,...ue)))}}if(v){const H=this._themeService.getColorTheme();(0,R.BC)(this._domNode,F("hr.tiw-metadata-separator"));const ie=(0,R.BC)(this._domNode,F("table.tiw-metadata-table")),de=(0,R.BC)(ie,F("tbody"));P&&P!==B&&(0,R.BC)(de,F("tr",void 0,F("td.tiw-metadata-key",void 0,"textmate token"),F("td.tiw-metadata-value",void 0,`${P} (${P.length})`)));const ke=new Array;for(let oe=v.token.scopes.length-1;oe>=0;oe--)ke.push(v.token.scopes[oe]),oe>0&&ke.push(F("br"));(0,R.BC)(de,F("tr",void 0,F("td.tiw-metadata-key",void 0,"textmate scopes"),F("td.tiw-metadata-value.tiw-metadata-scopes",void 0,...ke)));const Se=function St(W,u,o=!0){for(let p=u.length-1;p>=0;p--){const b=u.slice(0,p),m=bt(W,u[p],b,o);if(m)return m}return null}(H,v.token.scopes,!1),ue=m?.metadata?.foreground;if(Se){if(ue!==v.metadata.foreground){let oe=F("code.tiw-theme-selector",void 0,Se.rawSelector,F("br"),JSON.stringify(Se.settings,null,"\t"));ue&&(oe=F("s",void 0,oe)),(0,R.BC)(de,F("tr",void 0,F("td.tiw-metadata-key",void 0,"foreground"),F("td.tiw-metadata-value",void 0,oe)))}}else ue||(0,R.BC)(de,F("tr",void 0,F("td.tiw-metadata-key",void 0,"foreground"),F("td.tiw-metadata-value",void 0,"No theme selector")))}}_formatMetadata(o,p){const b=new Array;function v(P){const B=o?.[P]||p?.[P];if(void 0!==B){const H=o?.[P]?"tiw-metadata-semantic":"";b.push(F("tr",void 0,F("td.tiw-metadata-key",void 0,P),F(`td.tiw-metadata-value.${H}`,void 0,B)))}return B}const m=v("foreground"),A=v("background");if(m&&A){const P=N.Q1.fromHex(A),B=N.Q1.fromHex(m);P.isOpaque()?b.push(F("tr",void 0,F("td.tiw-metadata-key",void 0,"contrast ratio"),F("td.tiw-metadata-value",void 0,P.getContrastRatio(B.makeOpaque(P)).toFixed(2)))):b.push(F("tr",void 0,F("td.tiw-metadata-key",void 0,"Contrast ratio cannot be precise for background colors that use transparency"),F("td.tiw-metadata-value")))}const O=new Array;function x(P){let B;o&&o[P]?B=F("span.tiw-metadata-semantic",void 0,P):p&&p[P]&&(B=P),B&&(O.length&&O.push(" "),O.push(B))}return x("bold"),x("italic"),x("underline"),x("strikethrough"),O.length&&b.push(F("tr",void 0,F("td.tiw-metadata-key",void 0,"font style"),F("td.tiw-metadata-value",void 0,...O))),b}_decodeMetadata(o){const p=this._themeService.getColorTheme().tokenColorMap,b=d.xn.getLanguageId(o),v=d.xn.getTokenType(o),m=d.xn.getFontStyle(o),A=d.xn.getForeground(o),O=d.xn.getBackground(o);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(b),tokenType:v,bold:!!(m&d.zz.Bold)||void 0,italic:!!(m&d.zz.Italic)||void 0,underline:!!(m&d.zz.Underline)||void 0,strikethrough:!!(m&d.zz.Strikethrough)||void 0,foreground:p[A],background:p[O]}}_tokenTypeToString(o){switch(o){case d.Vy.Other:return"Other";case d.Vy.Comment:return"Comment";case d.Vy.String:return"String";case d.Vy.RegEx:return"RegEx";default:return"??"}}_getTokensAtPosition(o,p){const b=p.lineNumber,v=this._getStateBeforeLine(o,b),m=o.tokenizeLine(this._model.getLineContent(b),v),A=o.tokenizeLine2(this._model.getLineContent(b),v);let O=0;for(let P=m.tokens.length-1;P>=0;P--)if(p.column-1>=m.tokens[P].startIndex){O=P;break}let x=0;for(let P=A.tokens.length>>>1;P>=0;P--)if(p.column-1>=A.tokens[P<<1]){x=P;break}return{token:m.tokens[O],metadata:this._decodeMetadata(A.tokens[1+(x<<1)])}}_getStateBeforeLine(o,p){let b=null;for(let v=1;v<p;v++)b=o.tokenizeLine(this._model.getLineContent(v),b).ruleStack;return b}isSemanticTokens(o){return o&&o.data}_computeSemanticTokens(o){var p=this;return(0,ae.A)(function*(){if(!p._isSemanticColoringEnabled())return null;const b=p._languageFeaturesService.documentSemanticTokensProvider.ordered(p._model);if(b.length){const m=b[0],A=yield Promise.resolve(m.provideDocumentSemanticTokens(p._model,null,p._currentRequestCancellationTokenSource.token));if(p.isSemanticTokens(A))return{tokens:A,legend:m.getLegend()}}const v=p._languageFeaturesService.documentRangeSemanticTokensProvider.ordered(p._model);if(v.length){const m=v[0],A=o.lineNumber,O=new J.Q(A,1,A,p._model.getLineMaxColumn(A)),x=yield Promise.resolve(m.provideDocumentRangeSemanticTokens(p._model,O,p._currentRequestCancellationTokenSource.token));if(p.isSemanticTokens(x))return{tokens:x,legend:m.getLegend()}}return null})()}_getSemanticTokenAtPosition(o,p){const b=o.tokens.data,v=this._model.getLanguageId();let m=0,A=0;const O=p.lineNumber-1,x=p.column-1;for(let P=0;P<b.length;P+=5){const B=b[P],H=b[P+1],ie=b[P+2],Se=m+B,ue=0===B?A+H:H;if(O===Se&&ue<=x&&x<ue+ie){const oe=o.legend.tokenTypes[b[P+3]]||"not in legend (ignored)",ye=[];let be=b[P+4];for(let qe=0;be>0&&qe<o.legend.tokenModifiers.length;qe++)1&be&&ye.push(o.legend.tokenModifiers[qe]),be>>=1;be>0&&ye.push("not in legend (ignored)");const Ne=new J.Q(Se+1,ue+1,Se+1,ue+1+ie),Oe={},Lt=this._themeService.getColorTheme().tokenColorMap,Ve=this._themeService.getColorTheme().getTokenStyleMetadata(oe,ye,v,!0,Oe);let it;return Ve&&(it={languageId:void 0,tokenType:d.Vy.Other,bold:Ve?.bold,italic:Ve?.italic,underline:Ve?.underline,strikethrough:Ve?.strikethrough,foreground:Lt[Ve?.foreground||d.b1.None],background:void 0}),{type:oe,modifiers:ye,range:Ne,metadata:it,definitions:Oe}}m=Se,A=ue}return null}_renderTokenStyleDefinition(o,p){const b=new Array;if(void 0===o)return b;const v=this._themeService.getColorTheme();if(Array.isArray(o)){const m={};v.resolveScopes(o,m);const A=m[p];if(A&&m.scope){const O=F("ul.tiw-metadata-values"),x=Array.isArray(A.scope)?A.scope:[String(A.scope)];for(const P of x)O.appendChild(F("li.tiw-metadata-value.tiw-metadata-scopes",void 0,P));return b.push(m.scope.join(" "),O,F("code.tiw-theme-selector",void 0,JSON.stringify(A.settings,null,"\t"))),b}return b}if($e.yS.is(o)){const m=v.getTokenStylingRuleScope(o);return"setting"===m?(b.push(`User settings: ${o.selector.id} - ${this._renderStyleProperty(o.style,p)}`),b):("theme"===m&&b.push(`Color theme: ${o.selector.id} - ${this._renderStyleProperty(o.style,p)}`),b)}{const m=v.resolveTokenStyleValue(o);return b.push(`Default: ${m?this._renderStyleProperty(m,p):""}`),b}}_renderStyleProperty(o,p){return"foreground"===p?o.foreground?N.Q1.Format.CSS.formatHexA(o.foreground,!0):"":void 0!==o[p]?String(o[p]):""}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[nt.Qj.BELOW,nt.Qj.ABOVE]}}}return W})();(0,Ye.HW)(Ue.ID,Ue,Ye.Hk.Lazy),(0,Ye.Fl)(class Ct extends Ye.ks{constructor(){super({id:"editor.action.inspectTMScopes",label:(0,n.kg)(2805,"Developer: Inspect Editor Tokens and Scopes"),alias:"Developer: Inspect Editor Tokens and Scopes",precondition:void 0})}run(u,o){Ue.get(o)?.toggle()}});const st=new URL("vscode-oniguruma/release/onig.wasm","file:///C:/Users/vijayadharshni/Downloads/genai/frontend/node_modules/@codingame/monaco-vscode-textmate-service-override/textmate.js").href;function At(){return{...(0,lt.Ay)(),[pe.S.toString()]:new ee.d(Ee,[],!1)}}(0,dt.B)({"vscode-oniguruma/../onig.wasm":st,"vs/../../node_modules/vscode-oniguruma/release/onig.wasm":st}),(0,ht.GP)(function(){var W=(0,ae.A)(function*(u){u.get(ut.f).when(2).then(()=>{je.QE.get(pe.S)})});return function(u){return W.apply(this,arguments)}}())}}]);